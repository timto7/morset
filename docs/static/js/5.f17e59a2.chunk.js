(window.webpackJsonpmorset=window.webpackJsonpmorset||[]).push([[5],{105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},120:function(e,t,n){},159:function(e,t,n){"use strict";n.r(t);var a=n(12),r=n(19),o=n(0),c=n.n(o),i=(n(105),n(106),n(154)),l=n(151),s=n(67),u=n.n(s),m=n(164),d=n(166),f=n(155),p=n(157);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var v=Object(l.a)((function(e){return{button:{shadow:0,"&":{boxShadow:"none !important"},"&:hover":{backgroundColor:"#2980b9 !important",boxShadow:"none !important"},fontSize:"16px",letterSpacing:"1px",fontWeight:"600",margin:"none"},formControl:{minWidth:120,marginLeft:"20px"},selectEmpty:{}}})),b=function(e){var t=e.noChars,n=e.beginWasClicked,l=v(),s=Object(o.useState)({source:0,format:0}),b=Object(r.a)(s,2),C=b[0],g=b[1],E=function(e){g((function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,Object(a.a)({},e.target.name,e.target.value))}))};return c.a.createElement("div",{id:"TrainerLauncherContainer"},c.a.createElement("div",{id:"launchPrimary"},c.a.createElement(i.a,{variant:"contained",color:"primary",className:l.button,starticon:c.a.createElement(u.a,null),disabled:t,onClick:n},c.a.createElement(u.a,null),c.a.createElement("span",{className:"iconBtnText"},"BEGIN"))),c.a.createElement("div",{id:"launchSecondary"},c.a.createElement(f.a,{className:l.formControl},c.a.createElement(m.a,{htmlFor:"format-simple",color:"primary"},"format"),c.a.createElement(p.a,{value:C.format,onChange:E,inputProps:{name:"format",id:"format-simple"},color:"primary"},c.a.createElement(d.a,{value:0},"Random"),c.a.createElement(d.a,{value:1},"Not Random"))),c.a.createElement(f.a,{className:l.formControl},c.a.createElement(m.a,{htmlFor:"source-simple",color:"primary"},"source"),c.a.createElement(p.a,{value:C.source,onChange:E,inputProps:{name:"source",id:"source-simple"},color:"primary"},c.a.createElement(d.a,{value:0},"Tone Generator")))))},C=(n(107),n(108),n(109),n(20)),g=n(113),E=n.n(g),O=(n(110),n(111)),y=n.n(O),w=n(112),j=n.n(w),S=function(e){var t=e.selected,n=e.onClick;function a(e){e.stopPropagation(),n()}return c.a.createElement("div",{className:"MorseButtonAddRemove",onClick:function(e){return a(e)},onMouseDown:function(e){e.stopPropagation()}},t?c.a.createElement(y.a,null):c.a.createElement(j.a,null))},k=function(e){var t=e.character,n=e.morse,a=e.selected,l=e.custom,s=e.removeChar,u=e.addChar,m=Object(o.useContext)(C.b),d=m.play,f=m.isPlaying,p=Object(o.useState)(!1),h=Object(r.a)(p,2),v=h[0],b=h[1];return c.a.createElement("div",{className:"MorseButton ".concat(l?"custom":"")},c.a.createElement(i.a,{style:{padding:0,width:"220px"},onClick:function(){!1===f()&&(d(n.replace(/\u2212/g,"-").replace(/\xb7/g,"."),(function(){b(!1)})),b(!0))},className:a?"selected":""},c.a.createElement("div",{className:"morseButtonTextContainer"},c.a.createElement(E.a,{className:"btnSpeaker ".concat(v?"show":""," ").concat(l?"custom":"")}),c.a.createElement("span",null,t),c.a.createElement("span",null,n)),c.a.createElement(S,{selected:a,onClick:function(){a?s(t):u(t)}})))},P=n(56),N=n(115),D=n.n(N),x=n(114),A=n.n(x),R=function(e){var t=e.title,n=e.columns,a=e.translation,r=e.characters,o=e.selectedChars,i=e.custom,l=e.addCustomChars,s=e.removeCustomChars,u=Object.keys(a).map((function(e){return c.a.createElement(k,{key:e,character:e,morse:a[e].replace(/-/g,"\u2212").replace(/\./g,"\xb7"),selected:o.includes(e),custom:i,removeChar:function(){return s(e)},addChar:function(){return l(e)}})}));return c.a.createElement("div",{className:"morseSelectionPanel ".concat(i?"custom":""),style:{width:"".concat(250*n,"px")}},c.a.createElement("span",{className:"morseSelectionPanelTitle"},t),c.a.createElement("div",{className:"panelActions"},c.a.createElement(P.a,{icon:A.a,tooltip:"Remove All",onClick:function(){return s(r)}}),c.a.createElement(P.a,{icon:D.a,tooltip:"Add All",onClick:function(){return l(r)}})),c.a.createElement("div",{className:"morseButtonContainer"},u))};R.defaultProps={columns:1};var I=R,T=n(11),M=(n(116),n(57)),B=n(74),L=function(e){var t=e.initialValue,n=e.max,a=e.min,i=e.prompt,l=e.valueDidChange,s=e.visible,u=function(e){return e=parseInt(Number(e)),void 0!==a&&e<a&&(e=a),void 0!==n&&e>n&&(e=n),e},m=Object(o.useState)(u(t)),d=Object(r.a)(m,2),f=d[0],p=d[1],h=Object(o.useState)(u(t)),v=Object(r.a)(h,2),b=v[0],C=v[1],g=function(e){e=u(f),p(e),C(e),l(e)};return c.a.createElement("div",{className:s?"StepperContainer visible":"StepperContainer"},c.a.createElement(P.a,{icon:M.a,tooltip:"Descrease Characters",disabled:b===a,onClick:function(){var e=u(b-1);C(e),p(e),l(e)}}),c.a.createElement(B.a,{className:"stepperInput",onChange:function(e){p(e.target.value)},value:f,onBlur:function(){g(f)},onKeyDown:function(e){"Enter"===e.key&&g(e.target.value)},prompt:i}),c.a.createElement(P.a,{icon:M.b,tooltip:"Increase Characters",disabled:b===n,onClick:function(){var e=u(b+1);C(e),p(e),l(e)}}))},W=n(163),F=n(150),z=n(80),K=n.n(z);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(n,!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H="kmrsuaptlowinjefyvgqzhbcdx1928374650",J="abc",V=2,U="abcdefghijklmnopqrstuvwxyz",Q=Object(T.d)(U),X=Object(T.d)("1234567890"),Y=Object(T.d)("\xc0\xc6\u0106\u0110\u0134\u011c\u0143\xd8\u0160\xde\xdc\u0179\u017b"),Z=Object(T.d)('.,?"!/()&:;=+-:@'),$=window.localStorage.getItem("customChars");null===$||void 0===$||"string"!=typeof $?(J="abc",window.localStorage.setItem("customChars","abc")):J=$;var _,ee=window.localStorage.getItem("charCount");V=null===(_=ee)||void 0===_||Number.isNaN(_)?2:_<2?2:_>H.length?H.length:Number(_),window.localStorage.setItem("charCount",V);var te=Object(l.a)((function(e){return{formControl:{minWidth:120,marginRight:"20px"},selectEmpty:{}}})),ne=function(e){var t=e.selectedChars,n=e.selectedCharsDidChange,i=te(),l=Object(o.useState)({selection:0,openSB:!1}),s=Object(r.a)(l,2),u=s[0],h=s[1];Object(o.useEffect)((function(){n(H.substring(0,V))}),[]);var v=function(e,t){"clickaway"!==t&&h((function(e){return G({},e,{openSB:!1})}))};function b(e){for(var t=0;t<e.length;t++)J.includes(e.charAt(t))||(J+=e.charAt(t));n(J),window.localStorage.setItem("customChars",J)}function C(e){for(var t=0;t<e.length;t++)J.includes(e.charAt(t))&&(J=J.replace(e.charAt(t),""));n(J),window.localStorage.setItem("customChars",J)}return c.a.createElement("div",{id:"MorseSelectionContainer"},c.a.createElement("h3",null,"Selected Morse Characters: ",t.length),c.a.createElement("div",{id:"selectionOptions"},c.a.createElement(f.a,{className:i.formControl},c.a.createElement(m.a,{htmlFor:"selection-simple",color:"primary"},"selection"),c.a.createElement(p.a,{value:u.selection,onChange:function(e){h((function(t){return G({},t,Object(a.a)({},e.target.name,e.target.value))})),"selection"===e.target.name&&(h((function(t){return{selection:e.target.value}})),n(0===e.target.value?H.substring(0,V):J)),window.localStorage.setItem("selectionMode",e.target.value)},inputProps:{name:"selection",id:"selection-simple"},color:"primary"},c.a.createElement(d.a,{value:0},"Ordered"),c.a.createElement(d.a,{value:1},"Custom"))),c.a.createElement(L,{initialValue:V,min:2,max:H.length,prompt:"characters",valueDidChange:function(e){h(e-V===1?function(e){return G({},e,{openSB:!0})}:function(e){return G({},e,{openSB:!1})}),V=e,n(H.substring(0,e)),window.localStorage.setItem("charCount",e)},visible:0===u.selection})),c.a.createElement("div",{id:"innerSelectionContainer"},c.a.createElement(I,{title:"alphabet",columns:2,characters:U,translation:Q,selectedChars:t,custom:0!==u.selection,addCustomChars:b,removeCustomChars:C}),c.a.createElement(I,{title:"numbers",characters:"1234567890",translation:X,selectedChars:t,custom:0!==u.selection,addCustomChars:b,removeCustomChars:C}),c.a.createElement(I,{title:"extended",characters:"\xc0\xc6\u0106\u0110\u0134\u011c\u0143\xd8\u0160\xde\xdc\u0179\u017b",translation:Y,selectedChars:t,custom:0!==u.selection,addCustomChars:b,removeCustomChars:C}),c.a.createElement(I,{title:"punctuation",columns:2,characters:'.,?"!/()&:;=+-:@',translation:Z,selectedChars:t,custom:0!==u.selection,addCustomChars:b,removeCustomChars:C}),c.a.createElement(W.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:u.openSB,autoHideDuration:4e3,onClose:v,ContentProps:{"aria-describedby":"message-id"},message:c.a.createElement("div",{id:"message-id"},"Latest: ",c.a.createElement("b",null,t.slice(-1).toUpperCase()),c.a.createElement("em",null,T.a.translateTextToMorse(t.slice(-1)).replace(/-/g,"\u2212").replace(/\./g,"\xb7"))),action:[c.a.createElement(F.a,{key:"close","aria-label":"close",color:"inherit",onClick:v},c.a.createElement(K.a,null))]})))},ae=(n(117),n(118),function(e){var t=e.Icon,n=e.label,a=e.actionType,r=e.onClick,o="";switch(a){case"abort":o="abort";break;case"restart":o="restart";break;case"go":o="go"}return c.a.createElement("div",{className:"sessionButton ".concat(o),onClick:r},c.a.createElement(t,{className:"sessionButtonIcon"}),c.a.createElement("span",null,n))}),re=n(119),oe=n.n(re),ce=function(e){var t=e.abortClicked,n=e.restartClicked,a=e.inSession,r=e.didChangeText,i=Object(o.useRef)();return Object(o.useLayoutEffect)((function(){void 0!==i&&(i.current.focus(),i.current.value="")})),c.a.createElement("div",{id:"TrainerSessionContainer",className:"".concat(a?"inSession":"")},c.a.createElement("div",{id:"sessionOptionContainer"},c.a.createElement(ae,{actionType:"abort",label:"Abort",Icon:K.a,onClick:t}),c.a.createElement(ae,{actionType:"restart",label:"Restart",Icon:oe.a,onClick:n})),c.a.createElement("textarea",{ref:i,spellCheck:!1,readOnly:!a,onChange:r}))};var ie={createScriptFromChars:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var t="",n=!1,a=0;a<30;a++)!n&&a>0&&a<28&&0===Math.floor(5*Math.random())?(t+=" ",n=!0):(t+=e.charAt(Math.floor(Math.random()*e.length)),n=!1);return t}};n(120);var le,se,ue,me,de,fe={getResult:function(e,t){for(var n=e.length,a=t.length,r=Array(a+1).fill(null).map((function(){return Array(n+1).fill(null)})),o=0;o<=n;o+=1)r[0][o]=o;for(var c=0;c<=a;c+=1)r[c][0]=c;for(var i=1;i<=a;i+=1)for(var l=1;l<=n;l+=1){var s=e[l-1]===t[i-1]?0:1;r[i][l]=Math.min(r[i][l-1]+1,r[i-1][l]+1,r[i-1][l-1]+s)}for(var u,m=a,d=n,f="",p="";m>0&&d>0;)u=Math.min(r[m-1][d-1],r[m-1][d],r[m][d-1]),r[m][d]===u?(e[d-1],f+="+",p+="+",m--,d--):r[m-1][d]===u?(p+="-",m--):r[m][d-1]===u?(f+="-",d--):(f+="-",p+="-",m--,d--);for(;m>0;)f+="+",p+="-",m--;for(;d>0;)f+="+",p+="-",d--;for(var h=[],v=0;v<e.length;v++){var b=e.charAt(v);h.includes(b)||(h[h.length]=b)}return h=h.sort(),console.log(h),{errors:r[a][n],errorPlacements:f.split("").reverse().join("").substring(0,n),errorPlacements2:p.split("").reverse().join("").substring(0,a)}}},pe=function(e){var t=e.latestScript,n=e.latestAnswer,a=e.visible;return Object(o.useEffect)((function(){ue=fe.getResult(t,n.trim().toLowerCase()),se=ue.errors,le=Math.floor((t.length-se>0?t.length-se:0)/t.length*100),console.log("\nnumber of misses: ",se),console.log("overall score: ",le),console.log("".concat(t,"\n").concat(n)),me=t.split("").map((function(e,t){return c.a.createElement("span",{key:t,className:"".concat("-"===ue.errorPlacements.charAt(t)?"erroneous":"")},e)})),de=n.split("").map((function(e,t){return c.a.createElement("span",{key:t,className:"".concat("-"===ue.errorPlacements2.charAt(t)?"erroneous":"")},e)}))}),[a]),c.a.createElement("div",{id:"SessionReviewContainer",className:"".concat(a?"visible":"")},c.a.createElement("div",{id:"sessionReviewContent"},c.a.createElement("div",{id:"sessionReviewHeader"},c.a.createElement("p",null,le,"%"),c.a.createElement("p",null,se," error",1===se?"":"s")),c.a.createElement("div",{id:"sessionReviewStatsPanel"}),c.a.createElement("div",{id:"sessionReviewComparisonPanel"},c.a.createElement("div",null,me),c.a.createElement("div",null,de))))};function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(n,!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=!1,Ce=!1,ge=!1,Ee="",Oe="";t.default=function(){document.title="MorseT - Trainer";var e=Object(o.useState)({selectedChars:"",source:0,inSession:!1,showResults:!1}),t=Object(r.a)(e,2),n=t[0],a=t[1],i=function(e){27===e.keyCode&&(u(),Ce=!0,a((function(e){return ve({},e,{inSession:!1})}))),(e.ctrlKey||e.metaKey)&&13===e.which&&!1===n.inSession&&f()};Object(o.useEffect)((function(){return document.addEventListener("keydown",i,!1),function(){document.removeEventListener("keydown",i,!1)}}));var l=Object(o.useContext)(C.b),s=l.play,u=l.stop,m=l.isPlaying;function d(){f()}function f(){!1===m()&&(a((function(e){return ve({},e,{inSession:!0})})),Oe="",Ee=ie.createScriptFromChars(n.selectedChars),s(Ee,p,{preDelay:.5,postDelay:1.5}))}be=!(n.selectedChars.length>0);function p(){!1===Ce&&(a((function(e){return ve({},e,{showResults:!0})})),a((function(e){return ve({},e,{inSession:!1})}))),!0===ge&&f(),Ce=!1,ge=!1}return c.a.createElement("div",{id:"TrainerContainer"},c.a.createElement(b,{noChars:be,beginWasClicked:function(){return d()}}),c.a.createElement(ne,{selectedChars:n.selectedChars,selectedCharsDidChange:function(e){a((function(t){return ve({},t,{selectedChars:e})}))},beginWasClicked:d}),c.a.createElement(ce,{inSession:n.inSession,abortClicked:function(){return u(),Ce=!0,void a((function(e){return ve({},e,{inSession:!1})}))},restartClicked:function(){return u(),Ce=!0,void(ge=!0)},didChangeText:function(e){Oe=e.target.value}}),c.a.createElement(pe,{visible:n.showResults,latestScript:Ee,latestAnswer:Oe}))}}}]);
//# sourceMappingURL=5.f17e59a2.chunk.js.map