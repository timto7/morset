(this.webpackJsonpmorset=this.webpackJsonpmorset||[]).push([[5],{110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t);var n=a(69),r=a(18),c=a(0),s=a.n(c),l=(a(110),a(70)),o=(a(111),a(159)),i=a(156),u=a(68),m=a.n(u),d=a(171),h=a(170),v=a(160),p=a(162),f=(a(112),a(58)),C=a(20);function E(){var e=Object(c.useContext)(C.b),t=e.setSpeed,a=(0,e.getSpeed)(),n=Object(c.useState)(a[0]),l=Object(r.a)(n,2),o=l[0],i=l[1],u=Object(c.useState)(a[1]),m=Object(r.a)(u,2),d=m[0],h=m[1],v=function(e){return e=parseInt(Number(e)),Number.isNaN(e)?15:e>d?d:e<1?1:e},p=function(e){e=v(o),i(e),t(e,d)},E=function(e){var a;a=d,a=parseInt(Number(a)),e=Number.isNaN(a)?18:a<o?o:a<1?1:a,h(e),t(o,e)};return s.a.createElement("div",{className:"SpeedEntry"},s.a.createElement(f.a,{id:"overallSpeedInput",onChange:function(e){i(e.target.value)},value:o,onBlur:function(e){p(v(o))},onKeyDown:function(e){"Enter"===e.key&&p(e.target.value)},prompt:"overall / character speed"}),s.a.createElement("span",{className:"speedEntrySlash"},"/"),s.a.createElement(f.a,{id:"charSpeedInput",onChange:function(e){h(e.target.value)},value:d,onBlur:function(e){E(v(o))},onKeyDown:function(e){"Enter"===e.key&&E(e.target.value)}}))}var b=Object(i.a)((function(e){return{button:{shadow:0,"&":{boxShadow:"none !important"},"&:hover":{backgroundColor:"#2980b9 !important",boxShadow:"none !important"},fontSize:"16px",letterSpacing:"1px",fontWeight:"600",margin:"none"},formControl:{minWidth:120,marginLeft:"20px"},selectEmpty:{}}})),g=function(e){var t=e.noChars,a=e.beginWasClicked,i=b(),u=Object(c.useState)({source:0,spacing:0}),f=Object(r.a)(u,2),C=f[0],g=f[1],y=function(e){g((function(t){return Object(n.a)({},t,Object(l.a)({},e.target.name,e.target.value))}))};return s.a.createElement("div",{id:"TrainerLauncherContainer"},s.a.createElement("div",{id:"launchPrimary"},s.a.createElement(o.a,{variant:"contained",color:"primary",className:i.button,starticon:s.a.createElement(m.a,null),disabled:t,onClick:a},s.a.createElement(m.a,null),s.a.createElement("span",{className:"iconBtnText"},"BEGIN"))),s.a.createElement("div",{id:"launchSecondary"},s.a.createElement(E,null),s.a.createElement(v.a,{className:i.formControl},s.a.createElement(d.a,{htmlFor:"spacing-simple",color:"primary"},"spacing"),s.a.createElement(p.a,{value:C.spacing,onChange:y,inputProps:{name:"spacing",id:"spacing-simple"},color:"primary"},s.a.createElement(h.a,{value:0},"Random"))),s.a.createElement(v.a,{className:i.formControl},s.a.createElement(d.a,{htmlFor:"source-simple",color:"primary"},"source"),s.a.createElement(p.a,{value:C.source,onChange:y,inputProps:{name:"source",id:"source-simple"},color:"primary"},s.a.createElement(h.a,{value:0},"Character Select")))))},y=(a(113),a(114),a(115),a(119)),w=a.n(y),S=(a(116),a(117)),k=a.n(S),N=a(118),O=a.n(N),j=function(e){var t=e.selected,a=e.onClick;function n(e){e.stopPropagation(),a()}return s.a.createElement("div",{className:"MorseButtonAddRemove",onClick:function(e){return n(e)},onMouseDown:function(e){e.stopPropagation()}},t?s.a.createElement(k.a,null):s.a.createElement(O.a,null))},x=function(e){var t=e.character,a=e.morse,n=e.selected,l=e.custom,i=e.removeChar,u=e.addChar,m=Object(c.useContext)(C.b),d=m.play,h=m.isPlaying,v=Object(c.useState)(!1),p=Object(r.a)(v,2),f=p[0],E=p[1];return s.a.createElement("div",{className:"MorseButton ".concat(l?"custom":"")},s.a.createElement(o.a,{style:{padding:0,width:"220px"},onClick:function(){!1===h()&&(d(a.replace(/\u2212/g,"-").replace(/\xb7/g,"."),(function(){E(!1)})),E(!0))},className:n?"selected":""},s.a.createElement("div",{className:"morseButtonTextContainer"},s.a.createElement(w.a,{className:"btnSpeaker ".concat(f?"show":""," ").concat(l?"custom":"")}),s.a.createElement("span",null,t),s.a.createElement("span",null,a)),s.a.createElement(j,{selected:n,onClick:function(){n?i(t):u(t)}})))},R=a(56),A=a(121),P=a.n(A),T=a(120),I=a.n(T),B=function(e){var t=e.title,a=e.columns,n=e.translation,r=e.characters,c=e.selectedChars,l=e.custom,o=e.addCustomChars,i=e.removeCustomChars,u=Object.keys(n).map((function(e){return s.a.createElement(x,{key:e,character:e,morse:n[e].replace(/-/g,"\u2212").replace(/\./g,"\xb7"),selected:c.includes(e),custom:l,removeChar:function(){return i(e)},addChar:function(){return o(e)}})}));return s.a.createElement("div",{className:"morseSelectionPanel ".concat(l?"custom":""),style:{width:"".concat(250*a,"px")}},s.a.createElement("span",{className:"morseSelectionPanelTitle"},t),s.a.createElement("div",{className:"panelActions"},s.a.createElement(R.a,{icon:I.a,tooltip:"Remove All",onClick:function(){return i(r)}}),s.a.createElement(R.a,{icon:P.a,tooltip:"Add All",onClick:function(){return o(r)}})),s.a.createElement("div",{className:"morseButtonContainer"},u))};B.defaultProps={columns:1};var M=B,D=a(11),K=(a(122),a(57)),F=function(e){var t=e.initialValue,a=e.max,n=e.min,l=e.prompt,o=e.valueDidChange,i=e.visible,u=function(e){return e=parseInt(Number(e)),void 0!==n&&e<n&&(e=n),void 0!==a&&e>a&&(e=a),e},m=Object(c.useState)(u(t)),d=Object(r.a)(m,2),h=d[0],v=d[1],p=Object(c.useState)(u(t)),C=Object(r.a)(p,2),E=C[0],b=C[1],g=function(e){e=u(h),v(e),b(e),o(e)};return s.a.createElement("div",{className:i?"StepperContainer visible":"StepperContainer"},s.a.createElement(R.a,{icon:K.a,tooltip:"Descrease Characters",disabled:E===n,onClick:function(){var e=u(E-1);b(e),v(e),o(e)}}),s.a.createElement(f.a,{className:"stepperInput",onChange:function(e){v(e.target.value)},value:h,onBlur:function(){g(h)},onKeyDown:function(e){"Enter"===e.key&&g(e.target.value)},prompt:l}),s.a.createElement(R.a,{icon:K.b,tooltip:"Increase Characters",disabled:E===a,onClick:function(){var e=u(E+1);b(e),v(e),o(e)}}))},L=a(167),_=a(155),W=a(72),z=a.n(W),H='kmrsuaptlowinjefyvgqzhbcdx1928374650.,=/?"!()&:;+-:@\xc0\xc6\u0106\u0110\u0134\u011c\u0143\xd8\u0160\xde\xdc\u0179\u017b',q="abc",J=2,U="abcdefghijklmnopqrstuvwxyz",V=Object(D.d)(U),G=Object(D.d)("1234567890"),Q=Object(D.d)("\xc0\xc6\u0106\u0110\u0134\u011c\u0143\xd8\u0160\xde\xdc\u0179\u017b"),X=Object(D.d)('.,?"!/()&:;=+-:@'),Y=window.localStorage.getItem("customChars");null===Y||void 0===Y||"string"!=typeof Y?(q="abc",window.localStorage.setItem("customChars","abc")):q=Y;var Z,$=window.localStorage.getItem("charCount");J=null===(Z=$)||void 0===Z||Number.isNaN(Z)?2:Z<2?2:Z>H.length?H.length:Number(Z),window.localStorage.setItem("charCount",J);var ee=Object(i.a)((function(e){return{formControl:{minWidth:120,marginRight:"20px"},selectEmpty:{}}})),te=function(e){var t=e.selectedChars,a=e.selectedCharsDidChange,o=ee(),i=Object(c.useState)({selection:0,openSB:!1}),u=Object(r.a)(i,2),m=u[0],f=u[1];Object(c.useEffect)((function(){a(H.substring(0,J))}),[]);var C=function(e,t){"clickaway"!==t&&f((function(e){return Object(n.a)({},e,{openSB:!1})}))};function E(e){for(var t=0;t<e.length;t++)q.includes(e.charAt(t))||(q+=e.charAt(t));a(q),window.localStorage.setItem("customChars",q)}function b(e){for(var t=0;t<e.length;t++)q.includes(e.charAt(t))&&(q=q.replace(e.charAt(t),""));a(q),window.localStorage.setItem("customChars",q)}return s.a.createElement("div",{id:"MorseSelectionContainer"},s.a.createElement("h3",null,"Selected Morse Characters: ",t.length),s.a.createElement("div",{id:"selectionOptions"},s.a.createElement(v.a,{className:o.formControl},s.a.createElement(d.a,{htmlFor:"selection-simple",color:"primary"},"selection"),s.a.createElement(p.a,{value:m.selection,onChange:function(e){f((function(t){return Object(n.a)({},t,Object(l.a)({},e.target.name,e.target.value))})),"selection"===e.target.name&&(f((function(t){return{selection:e.target.value}})),a(0===e.target.value?H.substring(0,J):q)),window.localStorage.setItem("selectionMode",e.target.value)},inputProps:{name:"selection",id:"selection-simple"},color:"primary"},s.a.createElement(h.a,{value:0},"Ordered"),s.a.createElement(h.a,{value:1},"Custom"))),s.a.createElement(F,{initialValue:J,min:2,max:H.length,prompt:"characters",valueDidChange:function(e){f(e-J===1?function(e){return Object(n.a)({},e,{openSB:!0})}:function(e){return Object(n.a)({},e,{openSB:!1})}),J=e,a(H.substring(0,e)),window.localStorage.setItem("charCount",e)},visible:0===m.selection})),s.a.createElement("div",{id:"innerSelectionContainer"},s.a.createElement(M,{title:"alphabet",columns:2,characters:U,translation:V,selectedChars:t,custom:0!==m.selection,addCustomChars:E,removeCustomChars:b}),s.a.createElement(M,{title:"numbers",characters:"1234567890",translation:G,selectedChars:t,custom:0!==m.selection,addCustomChars:E,removeCustomChars:b}),s.a.createElement(M,{title:"extended",characters:"\xc0\xc6\u0106\u0110\u0134\u011c\u0143\xd8\u0160\xde\xdc\u0179\u017b",translation:Q,selectedChars:t,custom:0!==m.selection,addCustomChars:E,removeCustomChars:b}),s.a.createElement(M,{title:"punctuation",columns:2,characters:'.,?"!/()&:;=+-:@',translation:X,selectedChars:t,custom:0!==m.selection,addCustomChars:E,removeCustomChars:b}),s.a.createElement(L.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:m.openSB,autoHideDuration:4e3,onClose:C,ContentProps:{"aria-describedby":"message-id"},message:s.a.createElement("div",{id:"message-id"},"Latest: ",s.a.createElement("b",null,t.slice(-1).toUpperCase()),s.a.createElement("em",null,D.a.translateTextToMorse(t.slice(-1)).replace(/-/g,"\u2212").replace(/\./g,"\xb7"))),action:[s.a.createElement(_.a,{key:"close","aria-label":"close",color:"inherit",onClick:C},s.a.createElement(z.a,null))]})))},ae=(a(123),a(124),function(e){var t=e.Icon,a=e.label,n=e.actionType,r=e.onClick,c="";switch(n){case"abort":c="abort";break;case"restart":c="restart";break;case"go":c="go"}return s.a.createElement("div",{className:"sessionButton ".concat(c),onClick:r},s.a.createElement(t,{className:"sessionButtonIcon"}),s.a.createElement("span",null,a))}),ne=a(84),re=a.n(ne),ce=function(e){var t=e.abortClicked,a=e.restartClicked,n=e.inSession,r=e.didChangeText,l=Object(c.useRef)();return Object(c.useLayoutEffect)((function(){void 0!==l&&(l.current.focus(),l.current.value="")})),s.a.createElement("div",{id:"TrainerSessionContainer",className:"".concat(n?"inSession":"")},s.a.createElement("div",{id:"sessionOptionContainer"},s.a.createElement(ae,{actionType:"abort",label:"Abort",Icon:z.a,onClick:t}),s.a.createElement(ae,{actionType:"restart",label:"Restart",Icon:re.a,onClick:a})),s.a.createElement("textarea",{ref:l,spellCheck:!1,readOnly:!n,onChange:r}))};var se={createScriptFromChars:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a="",n=!1,r=30;void 0!==t&&"limit"in t&&(r=t.limit);for(var c=0;c<r;c++)!n&&c>0&&c<r-2&&0===Math.floor(8*Math.random())?(a+=" ",n=!0):(a+=e.charAt(Math.floor(Math.random()*e.length)),n=!1);return a}};a(125);var le,oe,ie,ue,me,de,he,ve,pe={getResult:function(e,t){for(var a=e.length,n=t.length,r=Array(n+1).fill(null).map((function(){return Array(a+1).fill(null)})),c=0;c<=a;c+=1)r[0][c]=c;for(var s=0;s<=n;s+=1)r[s][0]=s;for(var l=1;l<=n;l+=1)for(var o=1;o<=a;o+=1){var i=e[o-1]===t[l-1]?0:1;r[l][o]=Math.min(r[l][o-1]+1,r[l-1][o]+1,r[l-1][o-1]+i)}for(var u,m=n,d=a,h="",v="",p={},f={},C={},E={},b=!1,g=!1,y=!1;m>0&&d>0;)u=Math.min(r[m-1][d-1],r[m-1][d],r[m][d-1]),r[m][d]===u?(h+="+",v+="+",m--,d--,p[e.charAt(d)]=p[e.charAt(d)]+1||1):r[m-1][d]===u?(v+="e",m--,E[t.charAt(m)]=E[t.charAt(m)]+1||1,y=!0):r[m][d-1]===u?(h+="m",d--,f[e.charAt(d)]=f[e.charAt(d)]+1||1,g=!0):(h+="s",v+="s",m--,d--,C[e.charAt(d)]=C[e.charAt(d)]+1||1,b=!0);for(;m>0;)v+="e",m--,E[t.charAt(m)]=E[t.charAt(m)]+1||1,y=!0;for(;d>0;)h+="m",d--,f[e.charAt(d)]=f[e.charAt(d)]+1||1,g=!0;for(var w=[],S=0;S<e.length;S++){var k=e.charAt(S);w.includes(k)||(w[w.length]=k)}for(var N=0;N<t.length;N++){var O=t.charAt(N);w.includes(O)||(w[w.length]=O)}w=w.sort();for(var j=[],x=0;x<w.length;x++){var R=e.split(w[x]).length-1,A={};A.char=" "===w[x]?"[space]":w[x].toUpperCase(),A.wrong=C[w[x]]||0,A.misses=f[w[x]]||0,A.extra=E[w[x]]||0,A.hits=p[w[x]]||0,A.overall=Math.floor(A.hits/(R+A.extra)*100)||0,j[x]=A}return{errors:r[n][a],errorPlacements:h.split("").reverse().join("").substring(0,a),errorPlacements2:v.split("").reverse().join("").substring(0,n),hits:p,misses:f,extra:E,stats:j,mistakesPresent:b,missesPresent:g,extraPresent:y}}},fe=[],Ce=function(e){var t;switch(e){case"m":t="result_text result_missed";break;case"s":t="result_text result_sub";break;case"e":t="result_text result_extra";break;default:t="result_text"}return t},Ee=function(e){var t,a,n=e.latestScript,r=e.latestAnswer,l=e.visible,o=e.closeResultsClicked,i=e.retryClicked;return Object(c.useEffect)((function(){ie=pe.getResult(n,r.trim().toLowerCase()),fe=ie.stats,oe=ie.errors,le=Math.floor((n.length-oe>0?n.length-oe:0)/n.length*100),ue=n.split("").map((function(e,t){return s.a.createElement("span",{key:t,className:"".concat(Ce(ie.errorPlacements.charAt(t)))},e)})),me=r.split("").map((function(e,t){return s.a.createElement("span",{key:t,className:"".concat(Ce(ie.errorPlacements2.charAt(t)))},e)})),de=ie.mistakesPresent,he=ie.missesPresent,ve=ie.extraPresent}),[l]),(de||he)&&(t=s.a.createElement("div",{className:"reviewKeyContainer"},de&&s.a.createElement("div",{className:"reviewKeyContent"},s.a.createElement("div",{className:"keyCircle red"}),s.a.createElement("span",{className:"keyText"},"mistake")),he&&s.a.createElement("div",{className:"reviewKeyContent"},s.a.createElement("div",{className:"keyCircle yellow"}),s.a.createElement("span",{className:"keyText"},"missed")))),(de||ve)&&(a=s.a.createElement("div",{className:"reviewKeyContainer"},de&&s.a.createElement("div",{className:"reviewKeyContent"},s.a.createElement("div",{className:"keyCircle red"}),s.a.createElement("span",{className:"keyText"},"mistake")),ve&&s.a.createElement("div",{className:"reviewKeyContent"},s.a.createElement("div",{className:"keyCircle yellow"}),s.a.createElement("span",{className:"keyText"},"extra")))),s.a.createElement("div",{id:"SessionReviewContainer",className:"".concat(l?"visible":"")},s.a.createElement("div",{id:"reviewOptionContainer"},s.a.createElement("div",{id:"reviewOptionContent"},s.a.createElement(ae,{actionType:"abort",label:"Close",Icon:z.a,onClick:o}),s.a.createElement(ae,{label:"Retry",Icon:re.a,onClick:i}))),s.a.createElement("div",{id:"sessionReviewContent"},s.a.createElement("div",{id:"sessionReviewStatsContainer"},s.a.createElement("div",{id:"sessionReviewHeader"},s.a.createElement("p",null,le,"%"),s.a.createElement("p",null,oe," error",1===oe?"":"s")),s.a.createElement("div",{id:"sessionReviewStatsPanel"}),s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",null),s.a.createElement("th",null,"overall"),s.a.createElement("th",null,"hit"),s.a.createElement("th",null,"mistake"),s.a.createElement("th",null,"miss"),s.a.createElement("th",null,"extra")),fe.map((function(e){return s.a.createElement("tr",{key:e.char},s.a.createElement("td",null,e.char),s.a.createElement("td",null,e.overall,"%"),s.a.createElement("td",null,e.hits),s.a.createElement("td",null,e.wrong),s.a.createElement("td",null,e.misses),s.a.createElement("td",null,e.extra))}))))),s.a.createElement("div",{id:"sessionTextReviewContainer"},s.a.createElement("div",{className:"sessionTextReviewPanel"},s.a.createElement("p",{className:"sessionTextReviewHeader"},"sent transcript"),t,ue),s.a.createElement("div",{className:"sessionTextReviewPanel"},s.a.createElement("p",{className:"sessionTextReviewHeader"},"user entry"),a,me))))},be=!1,ge=!1,ye=!1,we="",Se="";t.default=function(){document.title="MorseT - Trainer";var e=Object(c.useState)({selectedChars:"",source:0,inSession:!1,showResults:!1}),t=Object(r.a)(e,2),a=t[0],l=t[1],o=function(e){27===e.keyCode&&(m(),ge=!0,l((function(e){return Object(n.a)({},e,{inSession:!1,showResults:!1})}))),(e.ctrlKey||e.metaKey)&&13===e.which&&!1===a.inSession&&E()};Object(c.useEffect)((function(){return document.addEventListener("keydown",o,!1),function(){document.removeEventListener("keydown",o,!1)}})),Object(c.useEffect)((function(){ye&&(ye=!1,E())}),[a.showResults]),Object(c.useEffect)((function(){a.inSession||a.showResults?document.body.style.overflow="hidden":document.body.style.overflow="scroll"}),[a.inSession,a.showResults]);var i=Object(c.useContext)(C.b),u=i.play,m=i.stop,d=i.isPlaying,h=i.getPreDelay,v=i.getPostDelay,p=i.getSessionCharAmount;function f(){E()}function E(){!1===d()&&(l((function(e){return Object(n.a)({},e,{inSession:!0,showResults:!1})})),Se="",we=se.createScriptFromChars(a.selectedChars,{limit:p()}),u(we,b,{preDelay:parseFloat(h()),postDelay:parseFloat(v())}))}be=!(a.selectedChars.length>0);function b(){!1===ge&&(l((function(e){return Object(n.a)({},e,{showResults:!0})})),l((function(e){return Object(n.a)({},e,{inSession:!1})}))),!0===ye&&E(),ge=!1,ye=!1}return s.a.createElement("div",{id:"TrainerContainer",className:"".concat(a.inSession?"inSession":"")},s.a.createElement("div",{id:"TrainerConfigContent",className:"".concat(a.inSession?"inSession":""," ").concat(a.showResults?"showingResults":"")},s.a.createElement(g,{noChars:be,beginWasClicked:function(){return f()}}),s.a.createElement(te,{selectedChars:a.selectedChars,selectedCharsDidChange:function(e){l((function(t){return Object(n.a)({},t,{selectedChars:e})}))},beginWasClicked:f})),s.a.createElement(Ee,{visible:a.showResults,latestScript:we,latestAnswer:Se,closeResultsClicked:function(){l((function(e){return Object(n.a)({},e,{showResults:!1})}))},retryClicked:function(){return ye=!0,void l((function(e){return Object(n.a)({},e,{showResults:!1})}))}}),s.a.createElement(ce,{inSession:a.inSession,abortClicked:function(){return m(),ge=!0,void l((function(e){return Object(n.a)({},e,{inSession:!1})}))},restartClicked:function(){return m(),ge=!0,void(ye=!0)},didChangeText:function(e){Se=e.target.value}}))}}}]);
//# sourceMappingURL=5.2806439e.chunk.js.map