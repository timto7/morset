(this.webpackJsonpmorset=this.webpackJsonpmorset||[]).push([[5],{172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},225:function(e,t,a){"use strict";a.r(t);var n=a(61),r=a(19),o=a(0),c=a.n(o),i=(a(172),a(173),a(219)),s=a(217),l=a(22),u=a(78),m=a.n(u),d=a(230),p=a(231),f=a(222),h=a(223),b=(a(174),a(62)),v=a(20);function g(){var e=Object(o.useContext)(v.b),t=e.setSpeed,a=(0,e.getSpeed)(),n=Object(o.useState)(a[0]),i=Object(r.a)(n,2),s=i[0],l=i[1],u=Object(o.useState)(a[1]),m=Object(r.a)(u,2),d=m[0],p=m[1],f=function(e){return e=parseInt(Number(e)),Number.isNaN(e)?15:e<1?1:e},h=function(e){return e=parseInt(Number(e)),Number.isNaN(e)?18:e<1?1:e},g=function(e){e=f(s),l(e),s>d&&p(s),t(e,s>d?e:d)},E=function(e){e=h(d),p(e),d<s&&l(d),t(d<s?e:s,e)};return c.a.createElement("div",{className:"SpeedEntry"},c.a.createElement(b.a,{id:"overallSpeedInput",onChange:function(e){l(e.target.value)},value:s,onBlur:function(e){g(f(s))},onKeyDown:function(e){"Enter"!==e.key&&0!==e.keyCode||g(f(e.target.value))},prompt:"overall / character speed"}),c.a.createElement("span",{className:"speedEntrySlash"},"/"),c.a.createElement(b.a,{id:"charSpeedInput",onChange:function(e){p(e.target.value)},value:d,onBlur:function(e){E(f(s))},onKeyDown:function(e){"Enter"!==e.key&&0!==e.keyCode||E(h(e.target.value))}}))}var E=function(e){var t=e.noChars,a=e.beginWasClicked,r=e.source,u=e.sourceChanged,b=Object(o.useContext)(l.b).dark,v=Object(s.a)((function(e){return{button:{shadow:0,"&":{boxShadow:"none !important"},"&:hover":{backgroundColor:b?"rbga(255, 255, 255, 0.1)":"#0b8eff",boxShadow:"none !important"},letterSpacing:"2px",lineHeight:"20px",fontWeight:"600",height:"52px",margin:"0px",borderRadius:"6px"},formControl:{minWidth:120,marginLeft:"20px",fontWeight:"500"},select:{border:"none"},menuItem:{fontWeight:"500"},selectEmpty:{}}}))();return c.a.createElement("div",{id:"TrainerLauncherContainer"},c.a.createElement("div",{id:"launchPrimary"},c.a.createElement(i.a,{variant:b?"outlined":"contained",style:Object(n.a)({},b&&{border:t?"2px solid #77777777":"2px solid #3ea6ff"}),color:"primary",className:v.button,starticon:c.a.createElement(m.a,null),disabled:t,onClick:a},c.a.createElement(m.a,{style:{height:"30px",width:"30px"}}),c.a.createElement("span",{className:"iconBtnText"},"BEGIN"))),c.a.createElement("div",{id:"launchSecondary"},c.a.createElement(g,null),c.a.createElement(f.a,{className:v.formControl},c.a.createElement(d.a,{htmlFor:"source-simple",color:"primary"},"session source"),c.a.createElement(h.a,{MenuProps:{disableScrollLock:!0},value:r,onChange:function(e){u(e.target.value)},inputProps:{name:"source",id:"source-simple"},color:"primary"},c.a.createElement(p.a,{value:0,className:v.menuItem},"Character Selector"),c.a.createElement(p.a,{value:1,className:v.menuItem},"Text Entry")))))},C=a(89),y=(a(175),a(176),a(177),a(56)),x=(a(178),function(e){var t=e.selected,a=e.onClick;function n(e){e.stopPropagation(),a()}return c.a.createElement("div",{className:"MorseButtonAddRemove",onClick:function(e){return n(e)},onMouseDown:function(e){e.stopPropagation()}},c.a.createElement("div",null,c.a.createElement("div",{className:"addRemoveRipple"}),t?c.a.createElement(y.c,{style:{width:"24px",height:"24px"}}):c.a.createElement(y.k,{style:{width:"24px",height:"24px"}})))}),S=function(e){var t=e.character,a=e.morse,s=e.selected,l=e.custom,u=e.removeChar,m=e.addChar,d=e.disabled,p=Object(o.useContext)(v.b),f=p.playText,h=p.stop,b=p.isPlaying,g=Object(o.useState)(!1),E=Object(r.a)(g,2),C=E[0],S=E[1];return c.a.createElement("div",{className:"MorseButton ".concat(l?"custom":"")},c.a.createElement(i.a,{disabled:d,style:Object(n.a)({padding:"0px",height:"30px",width:"200px",borderRadius:"6px"},C&&{backgroundColor:"#77777722"}),onClick:function(){!1===b()?(f(t,(function(){S(!1)})),S(!0)):h()},className:s?"selected":""},c.a.createElement("div",{className:"morseButtonTextContainer"},c.a.createElement(x,{selected:s,onClick:function(){s?u(t):m(t)}}),c.a.createElement("span",null,t),c.a.createElement("span",null,a),c.a.createElement(y.o,{className:"btnSpeaker ".concat(C?"show":""," ").concat(l?"custom":"")}))))},w=a(60),j=function(e){var t=e.title,a=e.columns,n=e.translation,r=e.characters,o=e.selectedChars,i=e.custom,s=e.addCustomChars,l=e.removeCustomChars,u=e.disabled,m=Object.keys(n).map((function(e){return c.a.createElement(S,{key:e,character:e,morse:n[e].replace(/-/g,"\u2212").replace(/\./g,"\xb7"),selected:o.includes(e),custom:i,removeChar:function(){return l(e)},addChar:function(){return s(e)},disabled:u})}));return c.a.createElement("div",{className:"morseSelectionPanel ".concat(i?"custom":""),style:{width:"".concat(204*a,"px")}},c.a.createElement("span",{className:"morseSelectionPanelTitle"},t),c.a.createElement("div",{className:"panelActions"},c.a.createElement(w.a,{icon:y.g,tooltip:"Remove All",onClick:function(){return l(r)}}),c.a.createElement(w.a,{icon:y.i,tooltip:"Add All",onClick:function(){return s(r)}})),c.a.createElement("div",{className:"morseButtonContainer"},m))};j.defaultProps={columns:1};var O,N=j,k=a(11),T=(a(179),function(e){var t=e.initialValue,a=e.max,n=e.min,i=e.prompt,s=e.valueDidChange,l=e.visible,u=function(e){return e=parseInt(Number(e)),void 0!==n&&e<n&&(e=n),void 0!==a&&e>a&&(e=a),e},m=Object(o.useState)(u(t)),d=Object(r.a)(m,2),p=d[0],f=d[1],h=Object(o.useState)(u(t)),v=Object(r.a)(h,2),g=v[0],E=v[1],C=function(e){e=u(p),f(e),E(e),s(e)};return c.a.createElement("div",{className:l?"StepperContainer visible":"StepperContainer"},c.a.createElement(w.a,{icon:y.d,tooltip:"Decrease Characters",disabled:g===n,onClick:function(){var e=u(g-1);E(e),f(e),s(e)}}),c.a.createElement(b.a,{className:"stepperInput",onChange:function(e){f(e.target.value)},value:p,onBlur:function(){C(p)},onKeyDown:function(e){"Enter"===e.key&&C(e.target.value)},prompt:i}),c.a.createElement(w.a,{icon:y.e,tooltip:"Increase Characters",disabled:g===a,onClick:function(){var e=u(g+1);E(e),f(e),s(e)}}))}),R=(a(180),a(66)),P=a(228),I=Object(s.a)((function(e){return{button:{shadow:0,"&":{boxShadow:"none !important"},"&:hover":{boxShadow:"none !important"},textTransform:"none",fontSize:"13px",margin:"none",marginRight:"12px",marginBottom:"20px",height:"32px",width:"auto",maxWidth:"400px",marginTop:"auto",padding:"none",justifyContent:"center",borderRadius:"16px",fontWeight:"500",lineHeight:"12px"},selectEmpty:{}}})),D=function(e){return""===e?0:(e=Number.parseInt(e),Number.isNaN(e)?10:e<0?0:e)},M=function(){var e=Object(o.useRef)();Object(R.a)(e,(function(){k(!1)}));var t=Object(o.useContext)(v.b),a=t.getRandomSpacing,s=t.setRandomSpacing,u=t.getCharSpacing,m=t.setCharSpacing,d=Object(o.useContext)(l.b).dark,p=u(),f=Object(o.useState)(p),h=Object(r.a)(f,2),g=h[0],E=h[1],C=a(),y=Object(o.useState)(C),x=Object(r.a)(y,2),S=x[0],w=x[1],j=Object(o.useState)(!1),O=Object(r.a)(j,2),N=O[0],k=O[1],T=function(e){e=D(g),m(e),E(e)},M=I();return c.a.createElement("div",{id:"SpacingSelectionContainer",ref:e},c.a.createElement(i.a,{id:"spacingBtn",variant:"outlined",className:M.button,onClick:function(){k(!N)},style:N?Object(n.a)({backgroundColor:"#3ea6ff",border:"1px solid #3ea6ff"},d?{color:"#000"}:{color:"#fff"}):{}},c.a.createElement("span",null,S?"Insert Spaces Randomly":0!==u()?1!==u()?"Insert Space Every ".concat(u()," Characters"):"Insert Space After Every Character":"Don't Insert Any Spaces")),c.a.createElement("div",{id:"spacingPopover",className:"".concat(N?"show":""," ").concat(S?"":"notRandom")},c.a.createElement("div",{id:"spacingSegmentTop"},c.a.createElement("span",{className:"text"},"Insert Spaces Randomly"),c.a.createElement(P.a,{checked:S,onChange:function(){w((function(e){return!e})),s(!S)},color:"primary",inputProps:{"aria-label":"primary checkbox"}})),c.a.createElement("div",{id:"spacingSegmentBottom",className:"".concat(S?"":"notRandom")},c.a.createElement("span",null,"insert space every"),c.a.createElement(b.a,{onChange:function(e){E(e.target.value)},value:g,onBlur:function(e){T(D(g))},onKeyDown:function(e){"Enter"===e.key&&T(e.target.value)},tabentry:!S}),c.a.createElement("span",null,"character",1===parseInt(g)?"":"s"))))},B=(a(181),a(218)),A=Object(s.a)((function(e){return{button:{shadow:0,"&":{boxShadow:"none !important"},"&:hover":{boxShadow:"none !important"},textTransform:"none",fontSize:"13px",margin:"none",marginRight:"12px",marginBottom:"20px",height:"32px",width:"auto",maxWidth:"400px",marginTop:"auto",padding:"none",justifyContent:"center",borderRadius:"16px",fontWeight:"500",lineHeight:"12px"},grpButtonContainer:{shadow:0,"&":{boxShadow:"none !important"},"&:hover":{boxShadow:"none !important"},marginTop:"4px",borderRadius:"6px",border:"1px solid rgba(127, 127, 127, 0.23)"},grpButton:{shadow:0,"&":{boxShadow:"none !important"},"&:hover":{boxShadow:"none !important"},width:"130px",height:"28px",fontWeight:"600",letterSpacing:"1px",margin:"0px",border:"none",lineHeight:"17px"},selectEmpty:{}}})),L=function(e){return e=Number.parseInt(e),Number.isNaN(e)?50:e<1?1:e},F=function(e){return e=Number.parseFloat(e),Number.isNaN(e)||e<=0?1:e},W=function(){var e=Object(o.useContext)(v.b),t=e.getDurationMode,a=e.setDurationMode,s=e.getSessionTimeLimit,u=e.setSessionTimeLimit,m=e.getSessionCharAmount,d=e.setSessionCharAmount,p=Object(o.useContext)(l.b).dark,f=m(),h=Object(o.useState)(f),g=Object(r.a)(h,2),E=g[0],C=g[1],y=function(e){e=L(E),d(e),C(e)},x=s(),S=Object(o.useState)(x),w=Object(r.a)(S,2),j=w[0],O=w[1],N=function(e){e=F(j),u(e),O(e)},k=Object(o.useRef)();Object(R.a)(k,(function(){H(!1)}));var T=parseInt(t()),P=Object(o.useState)(T),I=Object(r.a)(P,2),D=I[0],M=I[1],W=Object(o.useState)(!1),K=Object(r.a)(W,2),z=K[0],H=K[1];var _=A();return c.a.createElement("div",{id:"DurationSelectionContainer",ref:k},c.a.createElement(i.a,{id:"durationBtn",variant:"outlined",className:_.button,onClick:function(){H(!z)},style:z?Object(n.a)({backgroundColor:"#3ea6ff",border:"1px solid #3ea6ff"},p?{color:"#000"}:{color:"#fff"}):{}},c.a.createElement("span",null,"Session Duration: ".concat(0===D?"".concat(s()," minute").concat(1===s()?"":"s"):"".concat(m()," character").concat(1===m()?"":"s")))),c.a.createElement("div",{id:"durationPopover",className:"".concat(z?"show":"")},c.a.createElement("div",{id:"durationSegmentTop"},c.a.createElement(B.a,{"aria-label":"text primary button group",className:_.grpButtonContainer,style:{border:"1px solid #3ea6ff"}},c.a.createElement(i.a,{variant:0===D?"contained":"text",style:0===D?Object(n.a)({backgroundColor:"#3ea6ff"},p?{color:"#000"}:{color:"#fff"}):{color:"#3ea6ff"},className:_.grpButton,onClick:function(){M(0),a(0),y(L(E))}},"Time"),c.a.createElement(i.a,{variant:1===D?"contained":"text",style:1===D?Object(n.a)({backgroundColor:"#3ea6ff"},p?{color:"#000"}:{color:"#fff"}):{color:"#3ea6ff"},className:_.grpButton,onClick:function(){M(1),a(1),N(F(j))}},"Characters"))),c.a.createElement("div",{id:"durationSegmentBottom",className:"".concat(0===D?"time":"chars")},c.a.createElement("div",{id:"timeSelectionPane"},c.a.createElement("span",null,"time duration (minutes): "),c.a.createElement(b.a,{onChange:function(e){O(e.target.value)},value:j,onBlur:function(e){N(F(j))},onKeyDown:function(e){"Enter"===e.key&&N(e.target.value)},tabentry:0===D})),c.a.createElement("div",{id:"charLimitSelectionPane"},c.a.createElement("span",null,"number of characters: "),c.a.createElement(b.a,{onChange:function(e){C(e.target.value)},value:E,onBlur:function(e){y(L(E))},onKeyDown:function(e){"Enter"===e.key&&y(e.target.value)},tabentry:1===D})))))},K=a(189);a(94);function z(e){var t=e.open,a=e.onClose,n=Object(K.a)(e,["open","onClose"]);return Object(o.useEffect)((function(){t?(window.clearTimeout(O),O=setTimeout((function(){a()}),5500)):window.clearTimeout(O)}),[t]),c.a.createElement("div",{className:"MorseSnackBar ".concat(t&&"show"),onMouseEnter:function(){window.clearTimeout(O)},onMouseLeave:function(){t&&(O=setTimeout((function(){a(),window.clearTimeout(O)}),5500))}},n.children,c.a.createElement(w.a,Object.assign({icon:y.q,onClick:function(){return a()},tooltip:"Close"},!t&&{tabindex:"-1"})))}var H="kmrsuaptlowi.njef0y,vg5/q9zh38b?427c1d6x='\"!()&:;+-:@\xc0\xc6\u0106\u0110\u0134\u011c\u0143\xd8\u0160\xde\xdc\u0179\u017b",_="abc",Z=2,q="abcdefghijklmnopqrstuvwxyz",Y=Object(k.d)(q),$=Object(k.d)("1234567890"),J=Object(k.d)("\xc0\xc6\u0106\u0110\u0134\u011c\u0143\xd8\u0160\xde\xdc\u0179\u017b"),U=Object(k.d)(".,?'\"!/()&:;=+-:@"),V=window.localStorage.getItem("customChars");null===V||void 0===V||"string"!=typeof V?(_="abc",window.localStorage.setItem("customChars","abc")):_=V;var G,Q=window.localStorage.getItem("charCount");Z=null===(G=Q)||void 0===G||Number.isNaN(G)||G<2?2:G>H.length?H.length:Number(G),window.localStorage.setItem("charCount",Z);var X=Object(s.a)((function(e){return{formControl:{minWidth:120,marginRight:"20px",marginBottom:"20px",fontWeight:"500"},menuItem:{fontWeight:"500"},selectEmpty:{}}})),ee=function(e){var t=e.selectedChars,a=e.selectedCharsDidChange,i=e.show,s=(e.disabled,X()),l=Object(o.useState)({selection:0,openSB:!1}),u=Object(r.a)(l,2),m=u[0],b=u[1],g=Object(o.useContext)(v.b),E=g.play,x=g.stop,S=g.isPlaying,j=Object(o.useState)(!1),O=Object(r.a)(j,2),R=O[0],P=O[1];Object(o.useEffect)((function(){a(H.substring(0,Z))}),[]);function I(e){for(var t=0;t<e.length;t++)_.includes(e.charAt(t))||(_+=e.charAt(t));a(_),window.localStorage.setItem("customChars",_)}function D(e){for(var t=0;t<e.length;t++)_.includes(e.charAt(t))&&(_=_.replace(e.charAt(t),""));a(_),window.localStorage.setItem("customChars",_)}return c.a.createElement("div",{id:"MorseSelectionContainer",className:i?"show":""},c.a.createElement("h3",{style:{fontSize:"24px"}},"Selected Morse Characters: ",t.length),c.a.createElement("div",{id:"selectionOptions"},c.a.createElement(f.a,{className:s.formControl},c.a.createElement(d.a,{htmlFor:"selection-simple",color:"primary"},"char. selection"),c.a.createElement(h.a,{MenuProps:{disableScrollLock:!0},value:m.selection,onChange:function(e){b((function(t){return Object(n.a)({},t,Object(C.a)({},e.target.name,e.target.value))})),"selection"===e.target.name&&(b((function(t){return{selection:e.target.value}})),a(0===e.target.value?H.substring(0,Z):_)),window.localStorage.setItem("selectionMode",e.target.value)},inputProps:{name:"selection",id:"selection-simple"},color:"primary"},c.a.createElement(p.a,{value:0,className:s.menuItem},"Ordered"),c.a.createElement(p.a,{value:1,className:s.menuItem},"Custom"))),c.a.createElement(W,{style:{paddingBottom:"20px"}}),c.a.createElement(M,{style:{paddingBottom:"20px"}}),c.a.createElement(T,{initialValue:Z,min:2,max:H.length,prompt:"characters",valueDidChange:function(e){b(e-Z===1?function(e){return Object(n.a)({},e,{openSB:!0})}:function(e){return Object(n.a)({},e,{openSB:!1})}),Z=e,a(H.substring(0,e)),window.localStorage.setItem("charCount",e)},visible:0===m.selection})),c.a.createElement("div",{id:"innerSelectionContainer"},c.a.createElement(N,{title:"alphabet",columns:2,characters:q,translation:Y,selectedChars:t,custom:0!==m.selection,addCustomChars:I,removeCustomChars:D}),c.a.createElement(N,{title:"numbers",characters:"1234567890",translation:$,selectedChars:t,custom:0!==m.selection,addCustomChars:I,removeCustomChars:D}),c.a.createElement(N,{title:"extended",characters:"\xc0\xc6\u0106\u0110\u0134\u011c\u0143\xd8\u0160\xde\xdc\u0179\u017b",translation:J,selectedChars:t,custom:0!==m.selection,addCustomChars:I,removeCustomChars:D}),c.a.createElement(N,{title:"punctuation",columns:2,characters:".,?'\"!/()&:;=+-:@",translation:U,selectedChars:t,custom:0!==m.selection,addCustomChars:I,removeCustomChars:D})),c.a.createElement(z,{open:m.openSB,onClose:function(){b((function(e){return Object(n.a)({},e,{openSB:!1})}))}},c.a.createElement("div",null,c.a.createElement(w.a,Object.assign({icon:R?y.l:y.h,tooltip:R?"Stop":"Play",size:"large",onClick:function(){!1===S()?(E(k.e(H[Z-1]),(function(){P(!1)})),P(!0)):x()}},!m.openSB&&{tabentry:!1})),c.a.createElement("div",{className:"msbTextContainer"},c.a.createElement("span",{className:"msbTitle"},"Latest Addition:"),c.a.createElement("div",null,c.a.createElement("span",{className:"msbChar"},H[Z-1].toUpperCase()),c.a.createElement("span",{className:"msbMorse"},k.e(H[Z-1]).replace(/-/g,"\u2212").replace(/\./g,"\xb7")))))))},te=(a(182),a(183),function(e){var t=e.Icon,a=e.label,n=e.actionType,r=e.onClick,o="";switch(n){case"abort":o="abort";break;case"restart":o="restart";break;case"go":o="go"}return c.a.createElement("div",{className:"sessionButton ".concat(o),onClick:r},c.a.createElement(t,{className:"sessionButtonIcon"}),c.a.createElement("span",null,a))}),ae=a(100),ne=a.n(ae),re=a(101),oe=a.n(re),ce=function(e){var t=e.abortClicked,a=e.restartClicked,n=e.inSession,r=e.didChangeText,i=e.totalDuration,s=void 0===i?10:i,l=e.startDelay,u=void 0===l?.5:l,m=Object(o.useRef)(),d=Object(o.useContext)(v.b).getProgressBar;return Object(o.useLayoutEffect)((function(){void 0!==m&&(m.current.focus(),m.current.value="")})),c.a.createElement("div",{id:"TrainerSessionContainer",className:"".concat(n?"inSession":"")},c.a.createElement("div",{id:"trainerOverlay"}),c.a.createElement("div",{id:"sessionOptionContainer"},c.a.createElement(te,{actionType:"abort",label:"Abort",Icon:ne.a,onClick:t}),c.a.createElement(te,{label:"Restart",Icon:oe.a,onClick:function(){a()}})),c.a.createElement("div",{id:"sessionTextareaContainer"},c.a.createElement("div",{id:"sessionProgressBar",style:n?{transitionDuration:"".concat(s-.005*s,"s"),transitionDelay:"".concat(u,"s"),width:"100%",visibility:d()?"visible":"hidden"}:{}}),c.a.createElement("textarea",{ref:m,spellCheck:!1,readOnly:!n,onChange:r})))},ie=a(188);var se={createScriptFromChars:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a="",n=0,r=.05,o=0,c=0,i=0,s=0,l=15,u=18,m=30,d=!0,p=null,f=0,h=60;function b(e){void 0!==e&&("durationType"in e&&(n=e.durationType),"durationTime"in e&&(h=60*e.durationTime),"charLimit"in e&&(m=e.charLimit),"randomSpacing"in e&&(d=e.randomSpacing),"charSpacing"in e&&(p=e.charSpacing),"overallSpeed"in e&&(l=parseFloat(e.overallSpeed)),"charSpeed"in e&&(u=parseFloat(e.charSpeed)))}function v(){if(!(u<1||l<1)){u<l&&(u=l),c=3*(o=1.2/u);var e=(60*u-37.2*l)/(l*u);i=3*e/19-o,s=7*e/19-o}}var g=function(){f=d?Math.floor(Math.random()*(m/(Math.random()*m/2)+1))+(Math.floor(3*Math.random())+1):p},E=function(e){var t=k.e(e);" "===e?r+=s-i:t.split("").forEach((function(e){if(" "===e)r+=i;else{switch(e){case".":r+=o;break;case"-":r+=c;break;default:r+=0}r+=o}}))};b(t),g(),v();for(var C=0;1===n&&C<m||0===n&&r<h;)0===p&&(f=1),f<1&&C>0&&C<m?(a+=" ",g()):(a+=e.charAt(Math.floor(Math.random()*e.length)),f--,C=1===n?C+1:1),E(a.slice(-1));" "!==a.slice(-1)?r-=i:r-=s+i;var y={script:a.trim(),scriptToPlay:a.trim(),totalDuration:r};return y},createScriptFromTextEntry:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a="",n=.05,r=0,o=0,c=0,i=0,s=15,l=18,u=0,m=1,d=0;function p(e){void 0!==e&&("overallSpeed"in e&&(s=parseFloat(e.overallSpeed)),"charSpeed"in e&&(l=parseFloat(e.charSpeed)),"playMode"in e&&(u=parseInt(e.playMode)),"lineLimit"in e&&(m=parseInt(e.lineLimit)),"pipeDelay"in e&&(d=parseFloat(e.pipeDelay)))}function f(){if(!(l<1||s<1)){l<s&&(l=s),o=3*(r=1.2/l);var e=(60*l-37.2*s)/(s*l);c=3*e/19-r,i=7*e/19-r}}var h=function(e){n=.05,k.b(k.e(e)).split("").forEach((function(e){if(" "===e)n+=c;else if("/"===e)n+=i;else if("|"===e)n+=d;else{switch(e){case".":n+=r;break;case"-":n+=o}n+=r}}))};if(p(t),f(),0===u)a=(a=e.replace(/\s*\|+\s*/g,"|").replace(/(\r?\n)/gm," ").replace(/^\s+/g,"").replace(/[ \t]{2,}/g," ")).trim();else{var b=e.split(/\r?\n/);b.forEach((function(e,t){b[t]=b[t].replace(/[ \t]{2,}/g," ").trim()}));for(var v=0;v<b.length;v++)b[v].match(/^\s*$/)&&(b.splice(v,1),v--);for(var g=Object(ie.a)(b),E=[],C=0;C<m;C++){var y=Math.floor(Math.random()*b.length);E.push(b[y]),b.splice(y,1),0===b.length&&(b=Object(ie.a)(g))}a=E.join(" ")}h(a);var x={script:a.replace(/\s*\|+\s*/g," ").trim(),scriptToPlay:a.trim(),totalDuration:n};return x}};a(184);var le,ue,me,de,pe,fe,he,be,ve={getResult:function(e,t){for(var a=e.length,n=t.length,r=Array(n+1).fill(null).map((function(){return Array(a+1).fill(null)})),o=0;o<=a;o+=1)r[0][o]=o;for(var c=0;c<=n;c+=1)r[c][0]=c;for(var i=1;i<=n;i+=1)for(var s=1;s<=a;s+=1){var l=e[s-1]===t[i-1]?0:1;r[i][s]=Math.min(r[i][s-1]+1,r[i-1][s]+1,r[i-1][s-1]+l)}for(var u,m=n,d=a,p="",f="",h={},b={},v={},g={},E=!1,C=!1,y=!1;m>0&&d>0;)u=Math.min(r[m-1][d-1],r[m-1][d],r[m][d-1]),r[m][d]===u?(p+="+",f+="+",m--,d--,h[e.charAt(d)]=h[e.charAt(d)]+1||1):r[m-1][d]===u?(f+="e",m--,g[t.charAt(m)]=g[t.charAt(m)]+1||1,y=!0):r[m][d-1]===u?(p+="m",d--,b[e.charAt(d)]=b[e.charAt(d)]+1||1,C=!0):(p+="s",f+="s",m--,d--,v[e.charAt(d)]=v[e.charAt(d)]+1||1,v[t.charAt(m)]=v[t.charAt(m)]+1||1,E=!0);for(;m>0;)f+="e",m--,g[t.charAt(m)]=g[t.charAt(m)]+1||1,y=!0;for(;d>0;)p+="m",d--,b[e.charAt(d)]=b[e.charAt(d)]+1||1,C=!0;for(var x=[],S=0;S<e.length;S++){var w=e.charAt(S);x.includes(w)||(x[x.length]=w)}for(var j=0;j<t.length;j++){var O=t.charAt(j);x.includes(O)||(x[x.length]=O)}x=x.sort();for(var N=[],k=0;k<x.length;k++){var T=e.split(x[k]).length-1,R={};R.char=" "===x[k]?"[space]":x[k].toUpperCase(),R.wrong=v[x[k]]||0,R.misses=b[x[k]]||0,R.extra=g[x[k]]||0,R.hits=h[x[k]]||0,R.overall=Math.floor(R.hits/(T+R.extra)*100)||0,N[k]=R}return{errors:r[n][a],errorPlacements:p.split("").reverse().join("").substring(0,a),errorPlacements2:f.split("").reverse().join("").substring(0,n),hits:h,misses:b,extra:g,stats:N,mistakesPresent:E,missesPresent:C,extraPresent:y}}},ge=[],Ee=function(e){var t;switch(e){case"m":t="result_text result_missed";break;case"s":t="result_text result_sub";break;case"e":t="result_text result_extra";break;default:t="result_text"}return t},Ce=function(e){var t,a,n=e.latestScript,r=e.latestAnswer,i=e.visible,s=e.closeResultsClicked,l=e.retryClicked,u=e.speeds,m=e.source,d=e.durationMode,p=e.durationTime,f=e.charLimit,h=Object(o.useContext)(v.b),b=h.playReviewSound,g=h.getReviewSounds;return Object(o.useEffect)((function(){i&&void 0!==r&&(r=r.replace(/(\r?\n)/gm,"").trim().toLowerCase(),me=ve.getResult(n,r),ge=me.stats,ue=me.errors,le=Math.floor((n.length-ue>0?n.length-ue:0)/n.length*100),de=n.split("").map((function(e,t){return c.a.createElement("span",{key:t,className:"".concat(Ee(me.errorPlacements.charAt(t)))},e)})),pe=r.split("").map((function(e,t){return c.a.createElement("span",{key:t,className:"".concat(Ee(me.errorPlacements2.charAt(t)))},e)})),fe=me.mistakesPresent,he=me.missesPresent,be=me.extraPresent,g()&&b(le<90?2:le<100?1:0))}),[i]),(fe||he)&&(t=c.a.createElement("div",{className:"reviewKeyContainer"},fe&&c.a.createElement("div",{className:"reviewKeyContent"},c.a.createElement("div",{className:"keyCircle red"}),c.a.createElement("span",{className:"keyText"},"mistake")),he&&c.a.createElement("div",{className:"reviewKeyContent"},c.a.createElement("div",{className:"keyCircle yellow"}),c.a.createElement("span",{className:"keyText"},"missed")))),(fe||be)&&(a=c.a.createElement("div",{className:"reviewKeyContainer"},fe&&c.a.createElement("div",{className:"reviewKeyContent"},c.a.createElement("div",{className:"keyCircle red"}),c.a.createElement("span",{className:"keyText"},"mistake")),be&&c.a.createElement("div",{className:"reviewKeyContent"},c.a.createElement("div",{className:"keyCircle yellow"}),c.a.createElement("span",{className:"keyText"},"extra")))),c.a.createElement("div",{id:"SessionReviewContainer",className:"".concat(i?"visible":"")},c.a.createElement("div",{id:"reviewOptionContainer"},c.a.createElement("div",{id:"reviewOptionContent"},c.a.createElement(te,{actionType:"abort",label:"Close",Icon:ne.a,onClick:s}),c.a.createElement(te,{label:"Retry",Icon:oe.a,onClick:l}))),c.a.createElement("div",{id:"sessionDescContainer"},c.a.createElement("span",null,"overall/character speed: ",c.a.createElement("b",null,u[0],"/",u[1]," WPM")),!m&&c.a.createElement("span",null,"duration: ",c.a.createElement("b",null,"".concat(d?"".concat(f," character").concat(1!==f?"s":""):"".concat(p," minute").concat(1!==p?"s":""))))),c.a.createElement("div",{id:"sessionReviewContent"},c.a.createElement("div",{id:"sessionReviewStatsContainer"},c.a.createElement("div",{id:"sessionReviewHeader"},c.a.createElement("p",null,le<1&&Object.keys(me.hits).length>0?"<1":le,"%"),c.a.createElement("p",null,ue," error",1===ue?"":"s")),c.a.createElement("div",{id:"sessionReviewStatsPanel"}),c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",null),c.a.createElement("th",null,"overall"),c.a.createElement("th",null,"hit"),c.a.createElement("th",null,"mistake"),c.a.createElement("th",null,"miss"),c.a.createElement("th",null,"extra")),ge.map((function(e){return c.a.createElement("tr",{key:e.char},c.a.createElement("td",null,e.char),c.a.createElement("td",null,e.overall,"%"),c.a.createElement("td",null,e.hits),c.a.createElement("td",{className:"".concat(e.wrong?"":"resultTableZero")},e.wrong),c.a.createElement("td",{className:"".concat(e.misses?"":"resultTableZero")},e.misses),c.a.createElement("td",{className:"".concat(e.extra?"":"resultTableZero")},e.extra))}))))),c.a.createElement("div",{id:"sessionTextReviewContainer"},c.a.createElement("div",{className:"sessionTextReviewPanel"},c.a.createElement("p",{className:"sessionTextReviewHeader"},"sent transcript"),t,de),c.a.createElement("div",{className:"sessionTextReviewPanel"},c.a.createElement("p",{className:"sessionTextReviewHeader"},"user entry"),a,pe))))},ye=(a(185),a(186),Object(s.a)((function(e){return{button:{shadow:0,"&":{boxShadow:"none !important"},"&:hover":{boxShadow:"none !important"},textTransform:"none",fontSize:"13px",margin:"none",marginRight:"12px",marginBottom:"20px",height:"32px",width:"auto",maxWidth:"400px",marginTop:"4px",padding:"none",justifyContent:"center",borderRadius:"16px",fontWeight:"500",lineHeight:"12px"},selectEmpty:{}}}))),xe=function(){var e=Object(o.useRef)();Object(R.a)(e,(function(){k(!1)}));var t=Object(o.useContext)(v.b),a=t.getFullTextMode,s=t.setFullTextMode,u=t.getTextLineLimit,m=t.setTextLineLimit,d=Object(o.useContext)(l.b).dark,p=u(),f=Object(o.useState)(p),h=Object(r.a)(f,2),g=h[0],E=h[1],C=a(),y=Object(o.useState)(C),x=Object(r.a)(y,2),S=x[0],w=x[1],j=Object(o.useState)(!1),O=Object(r.a)(j,2),N=O[0],k=O[1],T=function(e){m(e),E(e)},I=ye();return c.a.createElement("div",{id:"textEntryModeContainer",ref:e},c.a.createElement(i.a,{id:"textEntryModeBtn",variant:"outlined",className:I.button,onClick:function(){k(!N)},style:N?Object(n.a)({backgroundColor:"#3ea6ff",border:"1px solid #3ea6ff"},d?{color:"#000"}:{color:"#fff"}):{}},c.a.createElement("span",null,0===S?"Play the Whole Text":1!==u()?"Play ".concat(u()," Random Lines From Text"):"Play a Single Random Line From Text")),c.a.createElement("div",{id:"textEntryModePopover",className:"".concat(N?"show":""," ").concat(1===S?"notFullText":"")},c.a.createElement("div",{id:"teModeSegmentTop"},c.a.createElement("span",{className:"text"},"Play the Whole Text"),c.a.createElement(P.a,{checked:0===S,onChange:function(){w(0===S?1:0),s(0===S?1:0)},color:"primary",inputProps:{"aria-label":"primary checkbox"}})),c.a.createElement("div",{id:"teModeSegmentBottom",className:"".concat(1===S?"notFullText":"")},c.a.createElement("span",null,"play"),c.a.createElement(b.a,{onChange:function(e){E(e.target.value)},value:g,onBlur:function(e){var t;T(""===(t=g)?1:(t=Number.parseInt(t),Number.isNaN(t)||t<1?1:t))},onKeyDown:function(e){"Enter"===e.key&&T(e.target.value)},tabentry:1===S}),c.a.createElement("span",null,"random line",1===parseInt(g)?"":"s"," from text"))))},Se=(a(187),Object(s.a)((function(e){return{button:{shadow:0,"&":{boxShadow:"none !important"},"&:hover":{boxShadow:"none !important"},textTransform:"none",fontSize:"13px",margin:"none",marginRight:"12px",marginBottom:"20px",height:"32px",width:"auto",maxWidth:"400px",marginTop:"4px",padding:"none",justifyContent:"center",borderRadius:"16px",fontWeight:"500",lineHeight:"12px"},selectEmpty:{}}}))),we=function(){var e=Object(o.useRef)();Object(R.a)(e,(function(){y(!1)}));var t=Object(o.useContext)(v.b),a=t.getPipeDelay,s=t.setPipeDelay,u=Object(o.useContext)(l.b).dark,m=a(),d=Object(o.useState)(m),p=Object(r.a)(d,2),f=p[0],h=p[1],g=Object(o.useState)(!1),E=Object(r.a)(g,2),C=E[0],y=E[1],x=function(e){s(e),h(e)},S=Se();return c.a.createElement("div",{id:"pipeDelayContainer",ref:e},c.a.createElement(i.a,{id:"pipeDelayBtn",variant:"outlined",className:S.button,onClick:function(){y(!C)},style:C?Object(n.a)({backgroundColor:"#3ea6ff",border:"1px solid #3ea6ff"},u?{color:"#000"}:{color:"#fff"}):{}},c.a.createElement("span",null,"Pipe Delay: ",a()+" second".concat(1!==a()?"s":""))),c.a.createElement("div",{id:"pipeDelayPopover",className:"".concat(C?"show":"")},c.a.createElement("span",null,"pipe (|) delay time (secs):"),c.a.createElement(b.a,{onChange:function(e){h(e.target.value)},value:f,onBlur:function(e){var t;x(""===(t=f)?1:(t=Number.parseFloat(t),Number.isNaN(t)||t<=0?1:t))},onKeyDown:function(e){"Enter"===e.key&&x(e.target.value)},tabentry:!0===C})))},je=!1,Oe=function(e){var t=e.show,a=e.value,n=e.didChangeText,i=e.inSession,s=e.source,l=e.inReview,u=Object(o.useRef)(),m=Object(o.useContext)(v.b).getTextEntryString,d=Object(o.useState)(!1),p=Object(r.a)(d,2),f=p[0],h=p[1];Object(o.useEffect)((function(){je||i||0===s||u.current.focus(),je=!1,1===s&&window.scrollTo(0,0)})),Object(o.useLayoutEffect)((function(){je||i||0===s||u.current.focus(),je=!1})),Object(o.useEffect)((function(){return t?document.body.classList.add("block-scroll"):document.body.classList.remove("block-scroll"),void 0!==u&&u.current.value.length<2&&u.current.focus(),u.current.focus(),u.current.value=m(),function(){document.body.classList.remove("block-scroll")}}),[t]);return c.a.createElement("div",{id:"MorseTextEntry",className:t?"show":""},c.a.createElement("div",{id:"TextEntryOptionsContainer"},c.a.createElement("div",{id:"optionsSubContainer"},c.a.createElement(xe,null),c.a.createElement(we,null)),c.a.createElement(w.a,{icon:y.m,tooltip:"Clear",onClick:function(){je=!0,u.current.value="",n(u.current.value)}})),c.a.createElement("div",{id:"MorseTextEntryTFContainer"},c.a.createElement("textarea",{ref:u,placeholder:"Enter text here...",value:a,onChange:function(e){var t=e.target.value.toString().toLowerCase();""===t||/^[\s0-9A-Za-z|.,_=/?"'!()&:;+-:@\xe0\xe6\u0107\u0111\u0135\u011d\u0144\xf8\u0161\xfe\xfc\u017a\u017c]+$/.test(t)?e.target.value=t:(t=t.replace(/[^\s\n\r0-9A-Za-z|.,_=/?"'!()&:;+-:@\xe0\xe6\u0107\u0111\u0135\u011d\u0144\xf8\u0161\xfe\xfc\u017a\u017c]/g,""),e.target.value=t,h(!0)),n(t),u.current.focus()},disabled:i||l||0===s})),c.a.createElement(z,{open:f,onClose:function(){h(!1)}},c.a.createElement("span",{style:{padding:"10px",color:"var(--text)"}},"Non-morse characters have been filtered out.")))},Ne=!1,ke=!1,Te=!1,Re="",Pe={script:"",totalDuration:0},Ie="";t.default=function(){document.title="MorseT - Trainer";var e=Object(o.useContext)(v.b),t=e.playText,a=e.stop,i=e.isPlaying,s=e.getPreDelay,l=e.getPostDelay,u=e.getDurationMode,m=e.getSessionTimeLimit,d=e.getSessionCharAmount,p=e.getRandomSpacing,f=e.getCharSpacing,h=e.getSpeed,b=e.getSessionSource,g=e.setSessionSource,C=e.getTextEntryString,y=e.setTextEntryString,x=e.getFullTextMode,S=e.getTextLineLimit,w=e.getPipeDelay,j=Object(o.useState)({selectedChars:"",source:b(),inSession:!1,showResults:!1,textEntryIsEmpty:!0}),O=Object(r.a)(j,2),N=O[0],k=O[1],T=function(e){27===e.keyCode&&(a(),ke=!0,k((function(e){return Object(n.a)({},e,{inSession:!1,showResults:!1})}))),(e.ctrlKey||e.metaKey)&&13===e.which&&!1===N.inSession&&P()};function R(){P()}function P(){if(!1===i()){Ie="";var e=h();k((function(e){return Object(n.a)({},e,{inSession:!0,showResults:!1})})),Pe=0===N.source?se.createScriptFromChars(N.selectedChars,{randomSpacing:p(),durationType:u(),durationTime:m(),charSpacing:f(),charLimit:d(),overallSpeed:e[0],charSpeed:e[1]}):se.createScriptFromTextEntry(Re,{overallSpeed:e[0],charSpeed:e[1],playMode:x(),lineLimit:S(),pipeDelay:w()}),t(Pe.scriptToPlay,I,{preDelay:parseFloat(s()),postDelay:parseFloat(l()),pipeDelay:parseFloat(w())})}}Ne=0===N.source?!(N.selectedChars.length>0):N.textEntryIsEmpty,Object(o.useEffect)((function(){return document.addEventListener("keydown",T,!1),function(){document.removeEventListener("keydown",T,!1)}})),Object(o.useEffect)((function(){Te&&(Te=!1,P())}),[N.showResults]),Object(o.useEffect)((function(){return N.inSession||N.showResults?document.body.style.overflowY="hidden":document.body.style.overflowY="scroll",function(){document.body.style.overflowY="scroll"}}),[N.inSession,N.showResults]),Object(o.useEffect)((function(){(Re=C()).length>0&&k((function(e){return Object(n.a)({},e,{textEntryIsEmpty:!1})}))}),[]);function I(){!1===ke&&(k((function(e){return Object(n.a)({},e,{showResults:!0})})),k((function(e){return Object(n.a)({},e,{inSession:!1})}))),!0===Te&&P(),ke=!1,Te=!1}return c.a.createElement("div",{id:"TrainerContainer",className:"".concat(N.inSession?"inSession":"")},c.a.createElement("div",{id:"TrainerConfigContent",className:"".concat(N.inSession?"inSession":""," ").concat(N.showResults?"showingResults":"")},c.a.createElement(E,{noChars:Ne,beginWasClicked:function(){return R()},source:N.source,sourceChanged:function(e){return function(e){g(e),k((function(t){return Object(n.a)({},t,{source:e})}))}(e)}}),c.a.createElement(ee,{selectedChars:N.selectedChars,selectedCharsDidChange:function(e){k((function(t){return Object(n.a)({},t,{selectedChars:e})}))},beginWasClicked:R,show:0===N.source,style:Object(n.a)({},1===N.source&&{overflow:"visible",height:"0px"}),disabled:1===N.source}),c.a.createElement(Oe,{show:1===N.source,didChangeText:function(e){Re=e,y(e),Re.length>0&&/^[\s|]+$/.test(Re)?k((function(e){return Object(n.a)({},e,{textEntryIsEmpty:!0})})):0===Re.length!==N.textEntryIsEmpty&&k((function(e){return Object(n.a)({},e,{textEntryIsEmpty:0===Re.length})}))},inSession:N.inSession,source:N.source,inReview:N.showResults})),c.a.createElement(Ce,{visible:N.showResults,latestScript:Pe.script,latestAnswer:Ie,closeResultsClicked:function(){k((function(e){return Object(n.a)({},e,{showResults:!1})}))},retryClicked:function(){return Te=!0,void k((function(e){return Object(n.a)({},e,{showResults:!1})}))},speeds:h(),source:b(),durationMode:u(),durationTime:m(),charLimit:d()}),c.a.createElement(ce,{inSession:N.inSession,abortClicked:function(){return a(),ke=!0,void k((function(e){return Object(n.a)({},e,{inSession:!1})}))},restartClicked:function(){return a(),ke=!0,Te=!0,void k((function(e){return Object(n.a)({},e,{inSession:!1})}))},didChangeText:function(e){Ie=e.target.value},totalDuration:Pe.totalDuration+parseFloat(l()),startDelay:parseFloat(s())}))}}}]);
//# sourceMappingURL=5.c1556219.chunk.js.map