(this.webpackJsonpmorset=this.webpackJsonpmorset||[]).push([[5],{166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},219:function(e,t,a){"use strict";a.r(t);var n=a(71),r=a(18),o=a(0),c=a.n(o),i=(a(166),a(167),a(212)),s=a(210),l=a(22),u=a(76),m=a.n(u),d=a(222),p=a(224),f=a(215),h=a(216),v=(a(168),a(59)),b=a(19);function g(){var e=Object(o.useContext)(b.b),t=e.setSpeed,a=(0,e.getSpeed)(),n=Object(o.useState)(a[0]),i=Object(r.a)(n,2),s=i[0],l=i[1],u=Object(o.useState)(a[1]),m=Object(r.a)(u,2),d=m[0],p=m[1],f=function(e){return e=parseInt(Number(e)),Number.isNaN(e)?15:e<1?1:e},h=function(e){return e=parseInt(Number(e)),Number.isNaN(e)?18:e<1?1:e},g=function(e){e=f(s),l(e),s>d&&p(s),t(e,s>d?e:d)},E=function(e){e=h(d),p(e),d<s&&l(d),t(d<s?e:s,e)};return c.a.createElement("div",{className:"SpeedEntry"},c.a.createElement(v.a,{id:"overallSpeedInput",onChange:function(e){l(e.target.value)},value:s,onBlur:function(e){g(f(s))},onKeyDown:function(e){"Enter"!==e.key&&0!==e.keyCode||g(f(e.target.value))},prompt:"overall / character speed"}),c.a.createElement("span",{className:"speedEntrySlash"},"/"),c.a.createElement(v.a,{id:"charSpeedInput",onChange:function(e){p(e.target.value)},value:d,onBlur:function(e){E(f(s))},onKeyDown:function(e){"Enter"!==e.key&&0!==e.keyCode||E(h(e.target.value))}}))}var E=function(e){var t=e.noChars,a=e.beginWasClicked,r=e.source,u=e.sourceChanged,v=Object(o.useContext)(l.b).dark,b=Object(s.a)((function(e){return{button:{shadow:0,"&":{boxShadow:"none !important"},"&:hover":{backgroundColor:v?"rbga(255, 255, 255, 0.1)":"#0b8eff",boxShadow:"none !important"},letterSpacing:"2px",lineHeight:"20px",fontWeight:"600",height:"52px",margin:"0px",borderRadius:"6px"},formControl:{minWidth:120,marginLeft:"20px",fontWeight:"500"},select:{border:"none"},menuItem:{fontWeight:"500"},selectEmpty:{}}}))();return c.a.createElement("div",{id:"TrainerLauncherContainer"},c.a.createElement("div",{id:"launchPrimary"},c.a.createElement(i.a,{variant:v?"outlined":"contained",style:Object(n.a)({},v&&{border:t?"2px solid #77777777":"2px solid #3ea6ff"}),color:"primary",className:b.button,starticon:c.a.createElement(m.a,null),disabled:t,onClick:a},c.a.createElement(m.a,{style:{height:"30px",width:"30px"}}),c.a.createElement("span",{className:"iconBtnText"},"BEGIN"))),c.a.createElement("div",{id:"launchSecondary"},c.a.createElement(g,null),c.a.createElement(f.a,{className:b.formControl},c.a.createElement(d.a,{htmlFor:"source-simple",color:"primary"},"session source"),c.a.createElement(h.a,{MenuProps:{disableScrollLock:!0},value:r,onChange:function(e){u(e.target.value)},inputProps:{name:"source",id:"source-simple"},color:"primary"},c.a.createElement(p.a,{value:0,className:b.menuItem},"Character Selector"),c.a.createElement(p.a,{value:1,className:b.menuItem},"Text Entry")))))},C=a(96),x=(a(169),a(170),a(171),a(54)),y=(a(172),function(e){var t=e.selected,a=e.onClick;function n(e){e.stopPropagation(),a()}return c.a.createElement("div",{className:"MorseButtonAddRemove",onClick:function(e){return n(e)},onMouseDown:function(e){e.stopPropagation()}},c.a.createElement("div",null,c.a.createElement("div",{className:"addRemoveRipple"}),t?c.a.createElement(x.c,{style:{width:"24px",height:"24px"}}):c.a.createElement(x.k,{style:{width:"24px",height:"24px"}})))}),S=function(e){var t=e.character,a=e.morse,s=e.selected,l=e.custom,u=e.removeChar,m=e.addChar,d=e.disabled,p=Object(o.useContext)(b.b),f=p.playText,h=p.stop,v=p.isPlaying,g=Object(o.useState)(!1),E=Object(r.a)(g,2),C=E[0],S=E[1];return c.a.createElement("div",{className:"MorseButton ".concat(l?"custom":"")},c.a.createElement(i.a,{disabled:d,style:Object(n.a)({padding:"0px",height:"30px",width:"200px",borderRadius:"6px"},C&&{backgroundColor:"#77777722"}),onClick:function(){!1===v()?(f(t,(function(){S(!1)})),S(!0)):h()},className:s?"selected":""},c.a.createElement("div",{className:"morseButtonTextContainer"},c.a.createElement(y,{selected:s,onClick:function(){s?u(t):m(t)}}),c.a.createElement("span",null,t),c.a.createElement("span",null,a),c.a.createElement(x.o,{className:"btnSpeaker ".concat(C?"show":""," ").concat(l?"custom":"")}))))},w=a(58),j=function(e){var t=e.title,a=e.columns,n=e.translation,r=e.characters,o=e.selectedChars,i=e.custom,s=e.addCustomChars,l=e.removeCustomChars,u=e.disabled,m=Object.keys(n).map((function(e){return c.a.createElement(S,{key:e,character:e,morse:n[e].replace(/-/g,"\u2212").replace(/\./g,"\xb7"),selected:o.includes(e),custom:i,removeChar:function(){return l(e)},addChar:function(){return s(e)},disabled:u})}));return c.a.createElement("div",{className:"morseSelectionPanel ".concat(i?"custom":""),style:{width:"".concat(204*a,"px")}},c.a.createElement("span",{className:"morseSelectionPanelTitle"},t),c.a.createElement("div",{className:"panelActions"},c.a.createElement(w.a,{icon:x.g,tooltip:"Remove All",onClick:function(){return l(r)}}),c.a.createElement(w.a,{icon:x.i,tooltip:"Add All",onClick:function(){return s(r)}})),c.a.createElement("div",{className:"morseButtonContainer"},m))};j.defaultProps={columns:1};var O,N=j,k=a(11),T=(a(173),function(e){var t=e.initialValue,a=e.max,n=e.min,i=e.prompt,s=e.valueDidChange,l=e.visible,u=function(e){return e=parseInt(Number(e)),void 0!==n&&e<n&&(e=n),void 0!==a&&e>a&&(e=a),e},m=Object(o.useState)(u(t)),d=Object(r.a)(m,2),p=d[0],f=d[1],h=Object(o.useState)(u(t)),b=Object(r.a)(h,2),g=b[0],E=b[1],C=function(e){e=u(p),f(e),E(e),s(e)};return c.a.createElement("div",{className:l?"StepperContainer visible":"StepperContainer"},c.a.createElement(w.a,{icon:x.d,tooltip:"Decrease Characters",disabled:g===n,onClick:function(){var e=u(g-1);E(e),f(e),s(e)}}),c.a.createElement(v.a,{className:"stepperInput",onChange:function(e){f(e.target.value)},value:p,onBlur:function(){C(p)},onKeyDown:function(e){"Enter"===e.key&&C(e.target.value)},prompt:i}),c.a.createElement(w.a,{icon:x.e,tooltip:"Increase Characters",disabled:g===a,onClick:function(){var e=u(g+1);E(e),f(e),s(e)}}))}),R=(a(174),a(67)),I=a(221),M=Object(s.a)((function(e){return{button:{shadow:0,"&":{boxShadow:"none !important"},"&:hover":{boxShadow:"none !important"},textTransform:"none",fontSize:"13px",margin:"none",marginRight:"12px",marginBottom:"20px",height:"32px",width:"auto",maxWidth:"400px",marginTop:"auto",padding:"none",justifyContent:"center",borderRadius:"16px",fontWeight:"500",lineHeight:"12px"},selectEmpty:{}}})),P=function(e){return""===e?0:(e=Number.parseInt(e),Number.isNaN(e)?10:e<0?0:e)},A=function(){var e=Object(o.useRef)();Object(R.a)(e,(function(){j(!1)}));var t=Object(o.useContext)(b.b),a=t.getRandomSpacing,n=t.setRandomSpacing,s=t.getCharSpacing,l=t.setCharSpacing,u=s(),m=Object(o.useState)(u),d=Object(r.a)(m,2),p=d[0],f=d[1],h=a(),g=Object(o.useState)(h),E=Object(r.a)(g,2),C=E[0],x=E[1],y=Object(o.useState)(!1),S=Object(r.a)(y,2),w=S[0],j=S[1],O=function(e){e=P(p),l(e),f(e)},N=M();return c.a.createElement("div",{id:"SpacingSelectionContainer",ref:e},c.a.createElement(i.a,{id:"spacingBtn",variant:"outlined",className:N.button,onClick:function(){j(!w)},style:w?{backgroundColor:"#3ea6ff",border:"1px solid #3ea6ff",color:"#fff"}:{}},c.a.createElement("span",null,C?"Insert Spaces Randomly":0!==s()?1!==s()?"Insert Space Every ".concat(s()," Characters"):"Insert Space After Every Character":"Don't Insert Any Spaces")),c.a.createElement("div",{id:"spacingPopover",className:"".concat(w?"show":""," ").concat(C?"":"notRandom")},c.a.createElement("div",{id:"spacingSegmentTop"},c.a.createElement("span",{className:"text"},"Insert Spaces Randomly"),c.a.createElement(I.a,{checked:C,onChange:function(){x((function(e){return!e})),n(!C)},color:"primary",inputProps:{"aria-label":"primary checkbox"}})),c.a.createElement("div",{id:"spacingSegmentBottom",className:"".concat(C?"":"notRandom")},c.a.createElement("span",null,"insert space every"),c.a.createElement(v.a,{onChange:function(e){f(e.target.value)},value:p,onBlur:function(e){O(P(p))},onKeyDown:function(e){"Enter"===e.key&&O(e.target.value)},tabentry:!C}),c.a.createElement("span",null,"character",1===parseInt(p)?"":"s"))))},B=(a(175),a(211)),D=Object(s.a)((function(e){return{button:{shadow:0,"&":{boxShadow:"none !important"},"&:hover":{boxShadow:"none !important"},textTransform:"none",fontSize:"13px",margin:"none",marginRight:"12px",marginBottom:"20px",height:"32px",width:"auto",maxWidth:"400px",marginTop:"auto",padding:"none",justifyContent:"center",borderRadius:"16px",fontWeight:"500",lineHeight:"12px"},grpButtonContainer:{shadow:0,"&":{boxShadow:"none !important"},"&:hover":{boxShadow:"none !important"},marginTop:"4px",borderRadius:"6px",border:"1px solid rgba(127, 127, 127, 0.23)"},grpButton:{shadow:0,"&":{boxShadow:"none !important"},"&:hover":{boxShadow:"none !important"},width:"130px",height:"28px",fontWeight:"600",letterSpacing:"1px",margin:"0px",border:"none",lineHeight:"17px"},selectEmpty:{}}})),L=function(e){return e=Number.parseInt(e),Number.isNaN(e)?50:e<1?1:e},F=function(e){return e=Number.parseFloat(e),Number.isNaN(e)?1:e<=0?1:e},W=function(){var e=Object(o.useContext)(b.b),t=e.getDurationMode,a=e.setDurationMode,n=e.getSessionTimeLimit,s=e.setSessionTimeLimit,l=e.getSessionCharAmount,u=e.setSessionCharAmount,m=l(),d=Object(o.useState)(m),p=Object(r.a)(d,2),f=p[0],h=p[1],g=function(e){e=L(f),u(e),h(e)},E=n(),C=Object(o.useState)(E),x=Object(r.a)(C,2),y=x[0],S=x[1],w=function(e){e=F(y),s(e),S(e)},j=Object(o.useRef)();Object(R.a)(j,(function(){W(!1)}));var O=parseInt(t()),N=Object(o.useState)(O),k=Object(r.a)(N,2),T=k[0],I=k[1],M=Object(o.useState)(!1),P=Object(r.a)(M,2),A=P[0],W=P[1];var K=D();return c.a.createElement("div",{id:"DurationSelectionContainer",ref:j},c.a.createElement(i.a,{id:"durationBtn",variant:"outlined",className:K.button,onClick:function(){W(!A)},style:A?{backgroundColor:"#3ea6ff",border:"1px solid #3ea6ff",color:"#fff"}:{}},c.a.createElement("span",null,"Session Duration: ".concat(0===T?"".concat(n()," minute").concat(1===n()?"":"s"):"".concat(l()," character").concat(1===l()?"":"s")))),c.a.createElement("div",{id:"durationPopover",className:"".concat(A?"show":"")},c.a.createElement("div",{id:"durationSegmentTop"},c.a.createElement(B.a,{"aria-label":"text primary button group",className:K.grpButtonContainer,style:{border:"1px solid #3ea6ff"}},c.a.createElement(i.a,{variant:0===T?"contained":"text",style:0===T?{backgroundColor:"#3ea6ff",color:"#fff"}:{color:"#3ea6ff"},className:K.grpButton,onClick:function(){I(0),a(0),g(L(f))}},"Time"),c.a.createElement(i.a,{variant:1===T?"contained":"text",style:1===T?{backgroundColor:"#3ea6ff",color:"#fff"}:{color:"#3ea6ff"},className:K.grpButton,onClick:function(){I(1),a(1),w(F(y))}},"Characters"))),c.a.createElement("div",{id:"durationSegmentBottom",className:"".concat(0===T?"time":"chars")},c.a.createElement("div",{id:"timeSelectionPane"},c.a.createElement("span",null,"time duration (minutes): "),c.a.createElement(v.a,{onChange:function(e){S(e.target.value)},value:y,onBlur:function(e){w(F(y))},onKeyDown:function(e){"Enter"===e.key&&w(e.target.value)},tabentry:0===T})),c.a.createElement("div",{id:"charLimitSelectionPane"},c.a.createElement("span",null,"number of characters: "),c.a.createElement(v.a,{onChange:function(e){h(e.target.value)},value:f,onBlur:function(e){g(L(f))},onKeyDown:function(e){"Enter"===e.key&&g(e.target.value)},tabentry:1===T})))))},K=a(182);a(91);function z(e){var t=e.open,a=e.onClose,n=Object(K.a)(e,["open","onClose"]);return Object(o.useEffect)((function(){t?(window.clearTimeout(O),O=setTimeout((function(){a()}),5500)):window.clearTimeout(O)}),[t]),c.a.createElement("div",{className:"MorseSnackBar ".concat(t&&"show"),onMouseEnter:function(){window.clearTimeout(O)},onMouseLeave:function(){t&&(O=setTimeout((function(){a(),window.clearTimeout(O)}),5500))}},n.children,c.a.createElement(w.a,Object.assign({icon:x.q,onClick:function(){return a()},tooltip:"Close"},!t&&{tabindex:"-1"})))}var H="kmrsuaptlowi.njef0y,vg5/q9zh38b?427c1d6x='\"!()&:;+-:@\xc0\xc6\u0106\u0110\u0134\u011c\u0143\xd8\u0160\xde\xdc\u0179\u017b",_="abc",Z=2,q="abcdefghijklmnopqrstuvwxyz",J=Object(k.d)(q),U=Object(k.d)("1234567890"),V=Object(k.d)("\xc0\xc6\u0106\u0110\u0134\u011c\u0143\xd8\u0160\xde\xdc\u0179\u017b"),$=Object(k.d)(".,?'\"!/()&:;=+-:@"),G=window.localStorage.getItem("customChars");null===G||void 0===G||"string"!=typeof G?(_="abc",window.localStorage.setItem("customChars","abc")):_=G;var Q,X=window.localStorage.getItem("charCount");Z=null===(Q=X)||void 0===Q||Number.isNaN(Q)?2:Q<2?2:Q>H.length?H.length:Number(Q),window.localStorage.setItem("charCount",Z);var Y=Object(s.a)((function(e){return{formControl:{minWidth:120,marginRight:"20px",marginBottom:"20px",fontWeight:"500"},menuItem:{fontWeight:"500"},selectEmpty:{}}})),ee=function(e){var t=e.selectedChars,a=e.selectedCharsDidChange,i=e.show,s=(e.disabled,Y()),l=Object(o.useState)({selection:0,openSB:!1}),u=Object(r.a)(l,2),m=u[0],v=u[1],g=Object(o.useContext)(b.b),E=g.play,y=g.stop,S=g.isPlaying,j=Object(o.useState)(!1),O=Object(r.a)(j,2),R=O[0],I=O[1];Object(o.useEffect)((function(){a(H.substring(0,Z))}),[]);function M(e){for(var t=0;t<e.length;t++)_.includes(e.charAt(t))||(_+=e.charAt(t));a(_),window.localStorage.setItem("customChars",_)}function P(e){for(var t=0;t<e.length;t++)_.includes(e.charAt(t))&&(_=_.replace(e.charAt(t),""));a(_),window.localStorage.setItem("customChars",_)}return c.a.createElement("div",{id:"MorseSelectionContainer",className:i?"show":""},c.a.createElement("h3",{style:{fontSize:"24px"}},"Selected Morse Characters: ",t.length),c.a.createElement("div",{id:"selectionOptions"},c.a.createElement(f.a,{className:s.formControl},c.a.createElement(d.a,{htmlFor:"selection-simple",color:"primary"},"char. selection"),c.a.createElement(h.a,{MenuProps:{disableScrollLock:!0},value:m.selection,onChange:function(e){v((function(t){return Object(n.a)({},t,Object(C.a)({},e.target.name,e.target.value))})),"selection"===e.target.name&&(v((function(t){return{selection:e.target.value}})),a(0===e.target.value?H.substring(0,Z):_)),window.localStorage.setItem("selectionMode",e.target.value)},inputProps:{name:"selection",id:"selection-simple"},color:"primary"},c.a.createElement(p.a,{value:0,className:s.menuItem},"Ordered"),c.a.createElement(p.a,{value:1,className:s.menuItem},"Custom"))),c.a.createElement(W,{style:{paddingBottom:"20px"}}),c.a.createElement(A,{style:{paddingBottom:"20px"}}),c.a.createElement(T,{initialValue:Z,min:2,max:H.length,prompt:"characters",valueDidChange:function(e){v(e-Z===1?function(e){return Object(n.a)({},e,{openSB:!0})}:function(e){return Object(n.a)({},e,{openSB:!1})}),Z=e,a(H.substring(0,e)),window.localStorage.setItem("charCount",e)},visible:0===m.selection})),c.a.createElement("div",{id:"innerSelectionContainer"},c.a.createElement(N,{title:"alphabet",columns:2,characters:q,translation:J,selectedChars:t,custom:0!==m.selection,addCustomChars:M,removeCustomChars:P}),c.a.createElement(N,{title:"numbers",characters:"1234567890",translation:U,selectedChars:t,custom:0!==m.selection,addCustomChars:M,removeCustomChars:P}),c.a.createElement(N,{title:"extended",characters:"\xc0\xc6\u0106\u0110\u0134\u011c\u0143\xd8\u0160\xde\xdc\u0179\u017b",translation:V,selectedChars:t,custom:0!==m.selection,addCustomChars:M,removeCustomChars:P}),c.a.createElement(N,{title:"punctuation",columns:2,characters:".,?'\"!/()&:;=+-:@",translation:$,selectedChars:t,custom:0!==m.selection,addCustomChars:M,removeCustomChars:P})),c.a.createElement(z,{open:m.openSB,onClose:function(){v((function(e){return Object(n.a)({},e,{openSB:!1})}))}},c.a.createElement("div",null,c.a.createElement(w.a,Object.assign({icon:R?x.l:x.h,tooltip:R?"Stop":"Play",size:"large",onClick:function(){!1===S()?(E(k.e(H[Z-1]),(function(){I(!1)})),I(!0)):y()}},!m.openSB&&{tabentry:!1})),c.a.createElement("div",{className:"msbTextContainer"},c.a.createElement("span",{className:"msbTitle"},"Latest Addition:"),c.a.createElement("div",null,c.a.createElement("span",{className:"msbChar"},H[Z-1].toUpperCase()),c.a.createElement("span",{className:"msbMorse"},k.e(H[Z-1]).replace(/-/g,"\u2212").replace(/\./g,"\xb7")))))))},te=(a(176),a(177),function(e){var t=e.Icon,a=e.label,n=e.actionType,r=e.onClick,o="";switch(n){case"abort":o="abort";break;case"restart":o="restart";break;case"go":o="go"}return c.a.createElement("div",{className:"sessionButton ".concat(o),onClick:r},c.a.createElement(t,{className:"sessionButtonIcon"}),c.a.createElement("span",null,a))}),ae=a(98),ne=a.n(ae),re=a(99),oe=a.n(re),ce=function(e){var t=e.abortClicked,a=e.restartClicked,n=e.inSession,r=e.didChangeText,i=e.totalDuration,s=void 0===i?10:i,l=e.startDelay,u=void 0===l?.5:l,m=Object(o.useRef)(),d=Object(o.useContext)(b.b).getProgressBar;return Object(o.useLayoutEffect)((function(){void 0!==m&&(m.current.focus(),m.current.value="")})),c.a.createElement("div",{id:"TrainerSessionContainer",className:"".concat(n?"inSession":"")},c.a.createElement("div",{id:"trainerOverlay"}),c.a.createElement("div",{id:"sessionOptionContainer"},c.a.createElement(te,{actionType:"abort",label:"Abort",Icon:ne.a,onClick:t}),c.a.createElement(te,{label:"Restart",Icon:oe.a,onClick:function(){a()}})),c.a.createElement("div",{id:"sessionTextareaContainer"},c.a.createElement("div",{id:"sessionProgressBar",style:n?{transitionDuration:"".concat(s-.005*s,"s"),transitionDelay:"".concat(u,"s"),width:"100%",visibility:d()?"visible":"hidden"}:{}}),c.a.createElement("textarea",{ref:m,spellCheck:!1,readOnly:!n,onChange:r})))},ie=a(181);var se={createScriptFromChars:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a="",n=0,r=.05,o=0,c=0,i=0,s=0,l=15,u=18,m=30,d=!0,p=null,f=0,h=60;function v(e){void 0!==e&&("durationType"in e&&(n=e.durationType),"durationTime"in e&&(h=60*e.durationTime),"charLimit"in e&&(m=e.charLimit),"randomSpacing"in e&&(d=e.randomSpacing),"charSpacing"in e&&(p=e.charSpacing),"overallSpeed"in e&&(l=parseFloat(e.overallSpeed)),"charSpeed"in e&&(u=parseFloat(e.charSpeed)))}function b(){if(!(u<1||l<1)){u<l&&(u=l),c=3*(o=1.2/u);var e=(60*u-37.2*l)/(l*u);i=3*e/19-o,s=7*e/19-o}}var g=function(){f=d?Math.floor(Math.random()*(m/(Math.random()*m/2)+1))+(Math.floor(3*Math.random())+1):p},E=function(e){var t=k.e(e);" "===e?r+=s-i:t.split("").forEach((function(e){if(" "===e)r+=i;else{switch(e){case".":r+=o;break;case"-":r+=c;break;default:r+=0}r+=o}}))};v(t),g(),b();for(var C=0;1===n&&C<m||0===n&&r<h;)0===p&&(f=1),f<1&&C>0&&C<m?(a+=" ",g()):(a+=e.charAt(Math.floor(Math.random()*e.length)),f--,C=1===n?C+1:1),E(a.slice(-1));" "!==a.slice(-1)?r-=i:r-=s+i;var x={script:a.trim(),totalDuration:r};return x},createScriptFromTextEntry:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a="",n=.05,r=0,o=0,c=0,i=0,s=15,l=18,u=0,m=1;function d(e){void 0!==e&&("overallSpeed"in e&&(s=parseFloat(e.overallSpeed)),"charSpeed"in e&&(l=parseFloat(e.charSpeed)),"playMode"in e&&(u=parseInt(e.playMode)),"lineLimit"in e&&(m=parseInt(e.lineLimit)))}function p(){if(!(l<1||s<1)){l<s&&(l=s),o=3*(r=1.2/l);var e=(60*l-37.2*s)/(s*l);c=3*e/19-r,i=7*e/19-r}}var f=function(e){n=.05,k.b(k.e(e)).split("").forEach((function(e){if(" "===e)n+=c;else if("/"===e)n+=i;else{switch(e){case".":n+=r;break;case"-":n+=o}n+=r}}))};if(d(t),p(),0===u)a=(a=e.replace(/(\r\n)/gm," ").replace(/\n/gm," ").replace(/\r/gm," ").replace(/^\s+/g,"").replace(/[ \t]{2,}/g," ")).trim();else{var h=e.split(/\r?\n/);h.forEach((function(e,t){h[t]=h[t].replace(/[ \t]{2,}/g," ").trim()}));for(var v=0;v<h.length;v++)h[v].match(/^\s*$/)&&(h.splice(v,1),v--);for(var b=Object(ie.a)(h),g=[],E=0;E<m;E++){var C=Math.floor(Math.random()*h.length);g.push(h[C]),h.splice(C,1),0===h.length&&(h=Object(ie.a)(b))}a=g.join(" ")}f(a);var x={script:a.trim(),totalDuration:n};return x}};a(178);var le,ue,me,de,pe,fe,he,ve,be={getResult:function(e,t){for(var a=e.length,n=t.length,r=Array(n+1).fill(null).map((function(){return Array(a+1).fill(null)})),o=0;o<=a;o+=1)r[0][o]=o;for(var c=0;c<=n;c+=1)r[c][0]=c;for(var i=1;i<=n;i+=1)for(var s=1;s<=a;s+=1){var l=e[s-1]===t[i-1]?0:1;r[i][s]=Math.min(r[i][s-1]+1,r[i-1][s]+1,r[i-1][s-1]+l)}for(var u,m=n,d=a,p="",f="",h={},v={},b={},g={},E=!1,C=!1,x=!1;m>0&&d>0;)u=Math.min(r[m-1][d-1],r[m-1][d],r[m][d-1]),r[m][d]===u?(p+="+",f+="+",m--,d--,h[e.charAt(d)]=h[e.charAt(d)]+1||1):r[m-1][d]===u?(f+="e",m--,g[t.charAt(m)]=g[t.charAt(m)]+1||1,x=!0):r[m][d-1]===u?(p+="m",d--,v[e.charAt(d)]=v[e.charAt(d)]+1||1,C=!0):(p+="s",f+="s",m--,d--,b[e.charAt(d)]=b[e.charAt(d)]+1||1,b[t.charAt(m)]=b[t.charAt(m)]+1||1,E=!0);for(;m>0;)f+="e",m--,g[t.charAt(m)]=g[t.charAt(m)]+1||1,x=!0;for(;d>0;)p+="m",d--,v[e.charAt(d)]=v[e.charAt(d)]+1||1,C=!0;for(var y=[],S=0;S<e.length;S++){var w=e.charAt(S);y.includes(w)||(y[y.length]=w)}for(var j=0;j<t.length;j++){var O=t.charAt(j);y.includes(O)||(y[y.length]=O)}y=y.sort();for(var N=[],k=0;k<y.length;k++){var T=e.split(y[k]).length-1,R={};R.char=" "===y[k]?"[space]":y[k].toUpperCase(),R.wrong=b[y[k]]||0,R.misses=v[y[k]]||0,R.extra=g[y[k]]||0,R.hits=h[y[k]]||0,R.overall=Math.floor(R.hits/(T+R.extra)*100)||0,N[k]=R}return{errors:r[n][a],errorPlacements:p.split("").reverse().join("").substring(0,a),errorPlacements2:f.split("").reverse().join("").substring(0,n),hits:h,misses:v,extra:g,stats:N,mistakesPresent:E,missesPresent:C,extraPresent:x}}},ge=[],Ee=function(e){var t;switch(e){case"m":t="result_text result_missed";break;case"s":t="result_text result_sub";break;case"e":t="result_text result_extra";break;default:t="result_text"}return t},Ce=function(e){var t,a,n=e.latestScript,r=e.latestAnswer,i=e.visible,s=e.closeResultsClicked,l=e.retryClicked,u=Object(o.useContext)(b.b).playReviewSound;return Object(o.useEffect)((function(){i&&(me=be.getResult(n,r.trim().toLowerCase()),ge=me.stats,ue=me.errors,le=Math.floor((n.length-ue>0?n.length-ue:0)/n.length*100),de=n.split("").map((function(e,t){return c.a.createElement("span",{key:t,className:"".concat(Ee(me.errorPlacements.charAt(t)))},e)})),pe=r.split("").map((function(e,t){return c.a.createElement("span",{key:t,className:"".concat(Ee(me.errorPlacements2.charAt(t)))},e)})),fe=me.mistakesPresent,he=me.missesPresent,ve=me.extraPresent,u(le<90?2:le<100?1:0))}),[i]),(fe||he)&&(t=c.a.createElement("div",{className:"reviewKeyContainer"},fe&&c.a.createElement("div",{className:"reviewKeyContent"},c.a.createElement("div",{className:"keyCircle red"}),c.a.createElement("span",{className:"keyText"},"mistake")),he&&c.a.createElement("div",{className:"reviewKeyContent"},c.a.createElement("div",{className:"keyCircle yellow"}),c.a.createElement("span",{className:"keyText"},"missed")))),(fe||ve)&&(a=c.a.createElement("div",{className:"reviewKeyContainer"},fe&&c.a.createElement("div",{className:"reviewKeyContent"},c.a.createElement("div",{className:"keyCircle red"}),c.a.createElement("span",{className:"keyText"},"mistake")),ve&&c.a.createElement("div",{className:"reviewKeyContent"},c.a.createElement("div",{className:"keyCircle yellow"}),c.a.createElement("span",{className:"keyText"},"extra")))),c.a.createElement("div",{id:"SessionReviewContainer",className:"".concat(i?"visible":"")},c.a.createElement("div",{id:"reviewOptionContainer"},c.a.createElement("div",{id:"reviewOptionContent"},c.a.createElement(te,{actionType:"abort",label:"Close",Icon:ne.a,onClick:s}),c.a.createElement(te,{label:"Retry",Icon:oe.a,onClick:l}))),c.a.createElement("div",{id:"sessionReviewContent"},c.a.createElement("div",{id:"sessionReviewStatsContainer"},c.a.createElement("div",{id:"sessionReviewHeader"},c.a.createElement("p",null,le<1&&Object.keys(me.hits).length>0?"<1":le,"%"),c.a.createElement("p",null,ue," error",1===ue?"":"s")),c.a.createElement("div",{id:"sessionReviewStatsPanel"}),c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",null),c.a.createElement("th",null,"overall"),c.a.createElement("th",null,"hit"),c.a.createElement("th",null,"mistake"),c.a.createElement("th",null,"miss"),c.a.createElement("th",null,"extra")),ge.map((function(e){return c.a.createElement("tr",{key:e.char},c.a.createElement("td",null,e.char),c.a.createElement("td",null,e.overall,"%"),c.a.createElement("td",null,e.hits),c.a.createElement("td",{className:"".concat(e.wrong?"":"resultTableZero")},e.wrong),c.a.createElement("td",{className:"".concat(e.misses?"":"resultTableZero")},e.misses),c.a.createElement("td",{className:"".concat(e.extra?"":"resultTableZero")},e.extra))}))))),c.a.createElement("div",{id:"sessionTextReviewContainer"},c.a.createElement("div",{className:"sessionTextReviewPanel"},c.a.createElement("p",{className:"sessionTextReviewHeader"},"sent transcript"),t,de),c.a.createElement("div",{className:"sessionTextReviewPanel"},c.a.createElement("p",{className:"sessionTextReviewHeader"},"user entry"),a,pe))))},xe=(a(179),a(180),Object(s.a)((function(e){return{button:{shadow:0,"&":{boxShadow:"none !important"},"&:hover":{boxShadow:"none !important"},textTransform:"none",fontSize:"13px",margin:"none",marginRight:"12px",marginBottom:"20px",height:"32px",width:"auto",maxWidth:"400px",marginTop:"4px",padding:"none",justifyContent:"center",borderRadius:"16px",fontWeight:"500",lineHeight:"12px"},selectEmpty:{}}}))),ye=function(){var e=Object(o.useRef)();Object(R.a)(e,(function(){j(!1)}));var t=Object(o.useContext)(b.b),a=t.getFullTextMode,n=t.setFullTextMode,s=t.getTextLineLimit,l=t.setTextLineLimit,u=s(),m=Object(o.useState)(u),d=Object(r.a)(m,2),p=d[0],f=d[1],h=a(),g=Object(o.useState)(h),E=Object(r.a)(g,2),C=E[0],x=E[1],y=Object(o.useState)(!1),S=Object(r.a)(y,2),w=S[0],j=S[1],O=function(e){l(e),f(e)},N=xe();return c.a.createElement("div",{id:"textEntryModeContainer",ref:e},c.a.createElement(i.a,{id:"textEntryModeBtn",variant:"outlined",className:N.button,onClick:function(){j(!w)},style:w?{backgroundColor:"#3ea6ff",border:"1px solid #3ea6ff",color:"#fff"}:{}},c.a.createElement("span",null,0===C?"Play the Whole Text":1!==s()?"Play ".concat(s()," Random Lines From Text"):"Play a Single Random Line From Text")),c.a.createElement("div",{id:"textEntryModePopover",className:"".concat(w?"show":""," ").concat(1===C?"notFullText":"")},c.a.createElement("div",{id:"teModeSegmentTop"},c.a.createElement("span",{className:"text"},"Play the Whole Text"),c.a.createElement(I.a,{checked:0===C,onChange:function(){x(0===C?1:0),n(0===C?1:0)},color:"primary",inputProps:{"aria-label":"primary checkbox"}})),c.a.createElement("div",{id:"teModeSegmentBottom",className:"".concat(1===C?"notFullText":"")},c.a.createElement("span",null,"play"),c.a.createElement(v.a,{onChange:function(e){f(e.target.value)},value:p,onBlur:function(e){var t;O(""===(t=p)?1:(t=Number.parseInt(t),Number.isNaN(t)?1:t<1?1:t))},onKeyDown:function(e){"Enter"===e.key&&O(e.target.value)},tabentry:1===C}),c.a.createElement("span",null,"random line",1===parseInt(p)?"":"s"," from text"))))},Se=!1,we=function(e){var t=e.show,a=e.value,n=e.didChangeText,i=e.inSession,s=e.source,l=e.inReview,u=Object(o.useRef)(),m=Object(o.useContext)(b.b).getTextEntryString,d=Object(o.useState)(!1),p=Object(r.a)(d,2),f=p[0],h=p[1];Object(o.useEffect)((function(){Se||i||0===s||u.current.focus(),Se=!1,1===s&&window.scrollTo(0,0)})),Object(o.useLayoutEffect)((function(){Se||i||0===s||u.current.focus(),Se=!1})),Object(o.useEffect)((function(){return t?document.body.classList.add("block-scroll"):document.body.classList.remove("block-scroll"),void 0!==u&&u.current.value.length<2&&u.current.focus(),u.current.focus(),u.current.value=m(),function(){document.body.classList.remove("block-scroll")}}),[t]);return c.a.createElement("div",{id:"MorseTextEntry",className:t?"show":""},c.a.createElement("div",{id:"TextEntryOptionsContainer"},c.a.createElement(ye,null),c.a.createElement(w.a,{icon:x.m,tooltip:"Clear",onClick:function(){Se=!0,u.current.value="",n(u.current.value)}})),c.a.createElement("div",{id:"MorseTextEntryTFContainer"},c.a.createElement("textarea",{ref:u,placeholder:"Enter text here...",value:a,onChange:function(e){var t=e.target.value.toString().toLowerCase();""===t||/^[\s0-9A-Za-z.,=/?"'!()&:;+-:@\xe0\xe6\u0107\u0111\u0135\u011d\u0144\xf8\u0161\xfe\xfc\u017a\u017c]+$/.test(t)?e.target.value=t:(t=t.replace(/[^\s\n\r0-9A-Za-z.,=/?"'!()&:;+-:@\xe0\xe6\u0107\u0111\u0135\u011d\u0144\xf8\u0161\xfe\xfc\u017a\u017c]/g,""),e.target.value=t,h(!0)),n(t),u.current.focus()},disabled:i||l||0===s})),c.a.createElement(z,{open:f,onClose:function(){h(!1)}},c.a.createElement("span",{style:{padding:"10px",color:"var(--text)"}},"Non-morse characters have been filtered out.")))},je=!1,Oe=!1,Ne=!1,ke="",Te={script:"",totalDuration:0},Re="";t.default=function(){document.title="MorseT - Trainer";var e=Object(o.useContext)(b.b),t=e.playText,a=e.stop,i=e.isPlaying,s=e.getPreDelay,l=e.getPostDelay,u=e.getDurationMode,m=e.getSessionTimeLimit,d=e.getSessionCharAmount,p=e.getRandomSpacing,f=e.getCharSpacing,h=e.getSpeed,v=e.getSessionSource,g=e.setSessionSource,C=e.getTextEntryString,x=e.setTextEntryString,y=e.getFullTextMode,S=e.getTextLineLimit,w=Object(o.useState)({selectedChars:"",source:v(),inSession:!1,showResults:!1,textEntryIsEmpty:!0}),j=Object(r.a)(w,2),O=j[0],N=j[1],k=function(e){27===e.keyCode&&(a(),Oe=!0,N((function(e){return Object(n.a)({},e,{inSession:!1,showResults:!1})}))),(e.ctrlKey||e.metaKey)&&13===e.which&&!1===O.inSession&&R()};function T(){R()}function R(){if(!1===i()){Re="";var e=h();N((function(e){return Object(n.a)({},e,{inSession:!0,showResults:!1})})),Te=0===O.source?se.createScriptFromChars(O.selectedChars,{randomSpacing:p(),durationType:u(),durationTime:m(),charSpacing:f(),charLimit:d(),overallSpeed:e[0],charSpeed:e[1]}):se.createScriptFromTextEntry(ke,{overallSpeed:e[0],charSpeed:e[1],playMode:y(),lineLimit:S()}),t(Te.script,I,{preDelay:parseFloat(s()),postDelay:parseFloat(l())})}}je=0===O.source?!(O.selectedChars.length>0):O.textEntryIsEmpty,Object(o.useEffect)((function(){return document.addEventListener("keydown",k,!1),function(){document.removeEventListener("keydown",k,!1)}})),Object(o.useEffect)((function(){Ne&&(Ne=!1,R())}),[O.showResults]),Object(o.useEffect)((function(){return O.inSession||O.showResults?document.body.style.overflow="hidden":document.body.style.overflow="scroll",function(){document.body.style.overflow="scroll"}}),[O.inSession,O.showResults]),Object(o.useEffect)((function(){(ke=C()).length>0&&N((function(e){return Object(n.a)({},e,{textEntryIsEmpty:!1})}))}),[]);function I(){!1===Oe&&(N((function(e){return Object(n.a)({},e,{showResults:!0})})),N((function(e){return Object(n.a)({},e,{inSession:!1})}))),!0===Ne&&R(),Oe=!1,Ne=!1}return c.a.createElement("div",{id:"TrainerContainer",className:"".concat(O.inSession?"inSession":"")},c.a.createElement("div",{id:"TrainerConfigContent",className:"".concat(O.inSession?"inSession":""," ").concat(O.showResults?"showingResults":"")},c.a.createElement(E,{noChars:je,beginWasClicked:function(){return T()},source:O.source,sourceChanged:function(e){return function(e){g(e),N((function(t){return Object(n.a)({},t,{source:e})}))}(e)}}),c.a.createElement(ee,{selectedChars:O.selectedChars,selectedCharsDidChange:function(e){N((function(t){return Object(n.a)({},t,{selectedChars:e})}))},beginWasClicked:T,show:0===O.source,style:Object(n.a)({},1===O.source&&{overflow:"visible",height:"0px"}),disabled:1===O.source}),c.a.createElement(we,{show:1===O.source,didChangeText:function(e){ke=e,x(e),0===ke.length!==O.textEntryIsEmpty&&N((function(e){return Object(n.a)({},e,{textEntryIsEmpty:0===ke.length})}))},inSession:O.inSession,source:O.source,inReview:O.showResults})),c.a.createElement(Ce,{visible:O.showResults,latestScript:Te.script,latestAnswer:Re,closeResultsClicked:function(){N((function(e){return Object(n.a)({},e,{showResults:!1})}))},retryClicked:function(){return Ne=!0,void N((function(e){return Object(n.a)({},e,{showResults:!1})}))}}),c.a.createElement(ce,{inSession:O.inSession,abortClicked:function(){return a(),Oe=!0,void N((function(e){return Object(n.a)({},e,{inSession:!1})}))},restartClicked:function(){return a(),Oe=!0,Ne=!0,void N((function(e){return Object(n.a)({},e,{inSession:!1})}))},didChangeText:function(e){Re=e.target.value},totalDuration:Te.totalDuration+parseFloat(l()),startDelay:parseFloat(s())}))}}}]);
//# sourceMappingURL=5.ff89f78b.chunk.js.map